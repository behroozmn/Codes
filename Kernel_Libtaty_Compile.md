# ๐ฐ๏ธCOMPILE

## ๐ฑ๏ธCompile Proces steps

ุจุฑูุงูู GCC ฺฉ ุจุฑูุงูู ููุดุชู ุดุฏู ุจู ุฒุจุงู C ุง C++ ุฑุง ุฏุฑ ด ูุฑุญูู ุงุฌุฑุง ู ฺฉูุฏ ุจู ุนููุงู ูุซุงูุ `gcc -o hello.exe hello.c` ุจู ุตูุฑุช ุฒุฑ ุงูุฌุงู ู ุดูุฏ

### 1๏ธโฃ๏ธ:PreProcessing[ูพุดโูพุฑุฏุงุฒุด]

* ูุงูโูุง ูพุดโูพุฑุฏุงุฒุด ุดุฏู ุฏุงุฑุง ูพุณููุฏ โi.โ ูุณุชูุฏ.
* ูุดููู ฺฉูู ุฎุทูุท ุฏุฑ ุฒุจุงู C ุงุณุช ฺฉู ุจุง ุนูุงูุช # ุดุฑูุน ูโุดููุฏ.
    * ุดุงูู [defineูุง ฺฉู ุชุนุฑู ููุงุฏุฑ ุซุงุจุช ุงุณุช] ู [Headerูุง]
* ุฏุฑ ูุงู ุฎุฑูุฌ ูพุดโูพุฑุฏุงุฒูุฏู ุจุฑุง ฺฉุงููุชโฺฏุฐุงุฑ ุงุฒ ุนูุงูุช # ููุฑุงู ุจุง ฺฉ ุนุฏุฏ ุงุณุชูุงุฏู ูโุดูุฏ
* ุฏุฑ ุงู ูุฑุญูู ูุฌููุนู ุฏุณุชูุฑุงุช ูพุดโูพุฑุฏุงุฒูุฏู ุจุง ููุงุฏุฑ ูุงูุนโุดุงู ุฌุงฺฏุฒู ูโุดููุฏ.
    * ูุงู ฺฉู ุจุง ูพุณููุฏ i ูโุจุงุดุฏ ุญุงู ูฺ ยซincludeยป ุง ยซdefineยป ูุณุช ู ุจุฌุง ูุฑฺฉุฏุงู ุงุฒ ยซincludeยปโ ุง ยซdefineยป ููุงุฏุฑ ูุญุชู ุขููุง ูุฑุงุฑ ฺฏุฑูุชู ุงุณุช
    * ุฏุณุชูุฑุงุช ูพุดโูพุฑุฏุงุฒูุฏู ุจุง ูุญุชูุงุดุงู ุฌุงฺฏุฒู ุดุฏูโุงูุฏ ู ุฎูุฏ ุงู ุฏุณุชูุฑุงุช ุง ฺฉุงููุช ุดุฏู ุง ุญุฐู ุดุฏูโุงูุฏ.
    * ุฏุฑ ุงู ูุฑุญููุ ุนููฺฉุฑุฏ ฺฉุงููพุงูุฑ ุจูโุตูุฑุช ุจุงุฒฺฏุดุช ุงุณุช.
        * ุนู ุงุจุชุฏุง ฺฉุชุงุจุฎุงููโูุง ฺฉู ุณูุฑุณ ฺฉุฏ ุจู ุขููุง ูุงุฒ ุฏุงุฑุฏ ุฑุง ูโุงุจุฏุ ุณูพุณ ฺฉุชุงุจุฎุงููโูุง ฺฉู ฺฉุชุงุจุฎุงููโูุง ุณูุฑุณ ฺฉุฏ ุจู ุขููุง ูุงุฒ ุฏุงุฑุฏ ุฑุง ูโุงุจุฏ
        * ุงู ฺฉุงุฑ ุฑุง ุชุง ุฌุง ุงุฏุงูู ูโุฏูุฏ ฺฉู ฺฉุชุงุจุฎุงููโุง ููุฑุฏูุงุฒ ฺฉุชุงุจุฎุงูู ุฏฺฏุฑ ูุจุงุดุฏ.
        * ูพุณ ุงุฒ ุงูุชู ุขููุงุ ุงุฒ ููุงู ููุทู ุดุฑูุน ุ ุงูุฏุงู ุจู ุฌุงฺฏุฒู ฺฉุชุงุจุฎุงููโูุง ุจุง ูุญุชูุง ุขููุง ุฏุฑ ฺฉุฏ ูโฺฉูุฏ
* ุจุฑุง ููุฏุงุฑุฏู ุจู ุซุงุจุชโูุง ฺฉุฏุ ูโุชูุงู ุฏุฑ ููฺฏุงู ฺฉุงููพุงู ุงู ููุงุฏุฑ ุฏุงุฏู ุดูุฏ.[ุฏุฑ ูุทุนู ฺฉุฏ FORM1 ุจุฌุง ุชุนุฑู ููุฏุงุฑ A ุชุญุช ุนููุงู ยซdefineยป ุขู ุฑุง ุฏุฑ ููฺฏุงู ฺฉุงููพุงู ููุฏุงุฑ ุฏูุฏ]
* ูพุงู ููู ุงูุฌ ุฑุฎุชู ูุง ฺฏูุด adb ุงุณุช
* ูพุงู ููู ุณุณุชูโุนุงูู ฺฉุชุงุจ ููุงูู ุณุณุชู ุนุงูู ุขูุง ุชููโุจุงู ุงุณุช ฺฉู ุฏุฑ ุงูุชูุง ฺฉุชุงุจ ุฎูุฏ ฺฉ ุณุณุชู ุนุงูู ูุจุชู ุจุฑ ููฺฉุณ ุงุฑุงุฆู ฺฉุฑุฏ ฺฉู ูุงู ุขู minix ุจูุฏ
* ูููุณ ุชูุฑูุงูุฏุฒ ุงู ููฺฉุณ ุฑุง ุฏุณุชฺฉุงุฑ ฺฉุฑุฏ ู ูููฺฉุณ ุฑุง ุงุฑุงุฆู ุฏุงุฏ
* ูููฺฉุณ ฺฉุฑูู ุฑุง ุจู ูพุฑูฺู ฺฏูู ุฏุงุฏ ู ุดุฏ ฺฏูููููฺฉุณ ู ุชุจุฏู ุดุฏ ุจู ฺฉ ุณุณุชู ุนุงูู ุงูพู ุณูุฑุณ
* ููฺฉุณ ูู ฺฉู ุฏุงุดุช ุนูุจ ูโุงูุชุงุฏ ูุณุฎู ุงูพู ุณูุฑุณ ููฺฉุณ ุฑุง ุงุฑุงุฆู ุฏุงุฏ ฺฉู ุงุณู ุขู openBSD ุง FreeBSD ุงุณุช
* ุชูุฒุน alma ู Rocky ุฑูุชู ุฑูุชู ุฌุงฺฏุฒู CentOS ูโุดูุฏ ฺฉู CentOS ุฏุฑ ุงูู ฺุงููู ฒฐฒด ุชูุงู ุดุฏ ู ุฏฺฏุฑ ูุณุฎู ูุฎูุงูุฏ ุฏุงุฏ
*

gcc -E [Name of Source Code] -o [Name of Output File]

* `gcc -E metech2.c -o PreProcessed.i`
* `cpp file.c > PreProcessedFile.i` #via the GNU C Preprocessor (cpp.exe)

```shell
//metech3.c Source Code
#include <stdio.h>
int main(){
printf("5 * 2 = %d", A);
}
```

`gcc -DA=100 metech3.c -o output`

### 2๏ธโฃ๏ธ:Compilling[ฺฉุงููพุงู]

* ุฏุฑ ุงู ูุฑุญูู ฺฉุฏ ูพุดโูพุฑุฏุงุฒุด ุดุฏู ฺฉุงููพุงู ูโุดูุฏ ุนู ฺฉุฏ ุฒุจุงู C ุจู ฺฉ ฺฉุฏ ุงุณูุจู ุชุจุฏู ูโุดูุฏ
* ุฒุจุงู ุงุณูุจู: ฺฉ ุงุฒ ุฒุจุงูโูุง ุณุทุญ ูพุงู ูุญุณูุจ ูโุดูุฏ ฺฉู ุฏุฑ ุขู ูุง ูุนูููุงู ูุณุชููุงู ุจุง ุฑุฌุณุชุฑูุง ูพุฑุฏุงุฒูุฏู ุฏุฑฺฏุฑ ูุณุชู(ุนููุงุช ุฑุงุถ ู ููุทู ุงุฒ ุทุฑู ฺฉุงุฑ ุฑู ุฑุฌุณุชุฑูุง)
* ูุนูููุงู ูุงูโูุง ุชุจุฏู ุดุฏู ุจู ูุงู ุงุณูุจู ุฏุงุฑุง ูพุณููุฏ โs.โ ูุณุชูุฏ.


* gcc -S [Name of Source Code] -o [Name of Output file]

`gcc -S metech2.c -o assembled.s` # as -o hello.o hello.s โ The assembler (as.exe) converts the assembly code into machine code

### 3๏ธโฃ๏ธ:CreatingObjectFile[ุชุจุฏู ฺฉุฏุงุณูุจู ุจู ุฒุจุงูโูุงุดู]

* Object fileูุง:
    * ฺฉุฏูุง ุตูุฑ ู ฺฉ ูุณุชูุฏ ฺฉู ุชูุณุท ูพุฑุฏุงุฒูุฏู ูุงุจูโููู ู ุงุฌุฑุงุณุช.(ุฏุณุชูุฑุงูุนูู ุงุฌุฑุง ูพุฑุฏุงุฒูุฏู)
    * ูุงู object ูุชุฌู ฺฉุงููพุงู ฺฉ ูุงู ููุจุน (ูุงููุฏ main.c) ุงุณุช ุจุฏูู ุงูฺฉู ููฺฉ ุดุฏู ุจุงุดุฏ
    * ูุนูููุงู Object File ูุง ุฏุงุฑุง ูพุณููุฏ โo.โ ูุณุชูุฏ.
    * ููโุชูุงู ุจูโุตูุฑุช ฺฉ ูุงู ูุชู ุจุงุฒ ฺฉุฑุฏ
    * ุจุฑุง ุฏุฏู ูุญุชูุง Object file ุงุฒ ุฏุณุชูุฑ objdump ุงุณุชูุงุฏู ููุงุฏ
    * ุฏุงุฎู ุขู ูุฌููุนู ุณุฑ ฺฉุฏ ุจู ูุฑูุช ูฺฏุฒ ูโุจุงุดุฏ
* ฺฉ ุงุฒ ุฑุงูโูุง Close source ฺฉุฑุฏู ฺฉุฏ ุ ุชุจุฏู ุขู ุจู ฺฉ Object file ุงุณุช ฺฉู ุนููุงู ูุงุจูุช ุชุบุฑ ูุฏุงุฑุฏ
* ุฏุฑ ุงู ูุฑุญูู ฺฉุฏ ุงุณูุจู ุจู ฺฉุฏ ุฒุจุงู ูุงุดู(Object file) ุชุจุฏู ูโุดูุฏ

#### โณ๏ธCommands

`gcc -c [Name of Source Code] -o [Name of Output file]`
`gcc -c metech2.c -o ObjectFile.o`

ุจุฑุง ุฏุณโุงุณูุจู ฺฉุฑุฏู (Disassemble) ฺฉ ูุงู ุงูุจุฌูฺฉุช (Object File)
`objdump [Option] [File] `

* [-D]:  ุชุจุฏู ฺฉุฏ ูุงุดู ุจู ุงุณูุจู
    * ุชูุงู ุจุฎุดโูุง ูุงุจู ุงุฌุฑุง ู ุฏุงุฏูโูุง ฺฉุฏ ูุงุดู ุฑุง ุฏุณโุงุณูุจู ฺฉูุฏ
    * `objdump -D ObjectFile.o`

```shell
make install  #ฺฉูพ ูุงูโูุง ฺฉุงููพุงู ุดุฏู ุฏุฑ ูุณุฑูุง ุฏุฑุณุช
nm ObjectFile.so # ูุดุงูุฏู ุชูุงุจุน ุฏุงุฎู ฺฉ ุขุจุฌฺฉุช ูุงู
```

#### โณ๏ธCreate ObjectFile.so

**ูุฑุญูู ุงูู:** ฺฉ ูุงู ุจุง ูพุณููุฏ ุณ ุงุฌุงุฏ ููุงุฏ ฺฉู ุญุงู ฺฉุฏ ุฒุจุงู ุณ ุจุงุดุฏ

cat `libhello.c`

```c
#include <stdio.h>

void say_hello() {
    printf("Hello from .so file!\n");
}
```

**ูุฑุญููโุฏูู:** ุชุจุฏู ุจู ุขุจุญฺฉุชโูุงู

```shell
gcc -shared -fPIC -o libhello.so libhello.c
```

**ูุฑุญููโุณูู:** ุงุณุชูุงุฏู ุฏุฑ ุจุฑูุงูู

```shell
gcc main.c -o app -L. -lhello
```

**ูุฑุญููโฺูุงุฑู:**

```shell
./app
# output: Hello from .so file!
```

### 4๏ธโฃ๏ธ:Linker[ููฺฉโฺฉุฑุฏู]

* ููฺฉ ฺฉุฑุฏู ูุฑุขูุฏ ุชุฑฺฉุจ ฺูุฏู ูุงู object ู ฺฉุชุงุจุฎุงููโูุง (libraries) ุจุฑุง ุงุฌุงุฏ ฺฉ ูุงู ุงุฌุฑุง (executable)ุ ฺฉุชุงุจุฎุงูู ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุฑ ุดุฏู (shared library) ุง ฺฉุชุงุจุฎุงูู ุงุณุชุงุชฺฉ (static library) ุงุณุช.
* ุฏู ููุน ููฺฉ ฺฉุฑุฏู ุฏุงุฑู:
    * ฑ-ููุน Static Linking: ุชูุงู ฺฉูุฏ (ุงุฒ ุฌููู ฺฉุชุงุจุฎุงููโูุง) ุฏุฑ ุฒูุงู ููฺฉ ุจู ูุงู executable ุงุถุงูู ูโุดูุฏ. ูุงู ุจุฒุฑฺฏโุชุฑ ูู ูุณุชูู
    * ฒ-ููุน Dynamic Linking: ฺฉุชุงุจุฎุงููโูุง ุฏุฑ ุฒูุงู ุงุฌุฑุง ุจุงุฑฺฏุฐุงุฑ ูโุดููุฏ. ูุงู ฺฉูฺฺฉโุชุฑ ู ุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ฺฉุชุงุจุฎุงููโูุง ููฺฉู ุงุณุช
* ุชุฌูุน ูุงูโูุง ูุณุชูู ฺฉูุงุฑ ูู ฺฉู ุจุนุถุง ุจุง ูู ุงุฑุชุจุงุท ุฏุงุฑูุฏ(ููุงููุฏ includeูุง ฺฉู ุฏุฑ ฺฉุฏ ุณุจุจ ูุฑุงุฎูุงู ฺฉ ูุงู ุฏฺฏุฑ ูโุดูุฏ)
* ููฺฉุฑ ฺฉ ูุฑุญูู ุถุฑูุฑ ุฏุฑ ฺฉุงููพุงู ุงุณุช ู ูุงู object ุชููุง ูู ุงุฒ ฺฉุงุฑ ุงุณุช ู ุจุฏูู ููฺฉ ฺฉุฑุฏู ุจุง ฺฉุชุงุจุฎุงููโูุงุููโุชูุงู ฺฉ ุจุฑูุงูู ฺฉุงูู ู ุงุฌุฑุงูพุฐุฑ ุณุงุฎุช.

#### โณโ๏ธ Commands

ุฏุฑ ุนููุ ูุฑุฏู ุงุบูุจ ูุณุชููุงู ุงุฒ gcc ุจุฑุง ููฺฉ ฺฉุฑุฏู ุงุณุชูุงุฏู ูโฺฉููุฏุ ฺูู gcc ุฎูุฏุด ูโุฏุงูุฏ ฺู ฺฉุชุงุจุฎุงููโูุง ู ูุงูโูุง ุงูููโุณุงุฒ ุฑุง ุจุงุฏ ุจู ld ุจุฏูุฏ ู ูุงุฒ ูุณุช ูุงููุฏ ุฏุณุชูุฑ ld ุขู ุฑุง ูุณุชููุงู ูุงุฑุฏ ููุงู

`ld -o hello.exe hello.o ...libraries...` #the linker (ld or ld.exe) links the object code with the library code to produce an executable file hello.exe

* ุงู ุจุฑูุงูู `ld` ุงุณุช ฺฉู ูุงูโูุง object (ูุซู hello.o) ู ฺฉุชุงุจุฎุงููโูุง (ูุซู libc.a) ุฑุง ุจุง ูู ุชุฑฺฉุจ ูโฺฉูุฏ ู ฺฉ ูุงู ุงุฌุฑุง ูโุณุงุฒุฏ.
* ุนุจุงุฑุช `libraries`  ุฑุง ุจุงุฏ ูุงุฑุฏ ููุงู ุนู ฺฉุชุงุจุฎุงููโูุง ูุงุฒู (ูุงููุฏ libc.a ุง libm.so) ุฑุง ูู ุจู ููฺฉุฑ ุจุฏูู.

#### โณโ๏ธ example1

ูุฑุถ ฺฉูุฏ ุดูุง ฺฉ ูุงู C ุฏุงุฑุฏ ุจู ูุงู hello.c:

```c
#include <stdio.h>

int main() {
    printf("Hello, world!\n");
    return 0;
}
```

* ุฏู ุฏุณุชูุฑ ุฒุฑ ฺฉุณุงูโูุณุชูุฏ ู ุฏุณุชูุฑ gcc ุฎูุฏุด ฺฉุงุฑูุง ld ุฑุง ูุฒ ุงูุฌุงู ูโุฏูุฏ

```shell
gcc -o hello.exe hello.o
```

```shell
gcc -c hello.c -o hello.o # ฺฉุงููพุงู ุจุฏูู ููฺฉ (ููุท ุชููุฏ ูุงู ุขุจุฌฺฉุช)
ld -o hello.exe hello.o /usr/lib/x86_64-linux-gnu/crt0.o -lc # ููฺฉ ฺฉุฑุฏู ุจุง ฺฉุชุงุจุฎุงููโูุง
./hello.exe # ุงุฌุฑุง ุจุฑูุงูู
# output: Hello, world!
```

ูฺฉุชูโูุง:

* ุจุฎุด /usr/lib/.../crt0.o: ูุงู ุงูููโุณุงุฒ ุจุฑูุงูู
* ุจุฎุด -lc: ฺฉุชุงุจุฎุงูู ุงุณุชุงูุฏุงุฑุฏ C (libc.a)

#### โณโ๏ธ example2

ูุฑุถ ฺฉูุฏ ุฏู ูุงู ุฏุงุฑู:ูุงูโุงูู `main.c` ฺฉู ุดุงูู ุชุงุจุน main ู ูุงูโุฏูู `helper.c`ฺฉู ุดุงูู ุชุงุจุน addุงุณุช

Filename: `main.c`

```c
#include <stdio.h>

int add(int a, int b); // ุชุนุฑู ุฏุฑ helper.c

int main() {
    printf("Sum: %d\n", add(5, 7));
    return 0;
}
```

Filename: `helper.c`

```c
int add(int a, int b) {
    return a + b;
}
```

```shell
# ฺฉุงููพุงู ูุฑ ูุงู ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู
gcc -c main.c -o main.o
gcc -c helper.c -o helper.o
```

```shell
gcc main.o helper.o -o program # ููฺฉ ฺฉุฑุฏู ุขุจุฌฺฉุชโูุงูโูุง
```

```shell
./program # ุงุฌุฑุง ุจุฑูุงูู
# output: Sum: 12
```

### โ๏ธImages

<div style="display: flex; flex-direction: column; align-items: center;">


![installSteps.jpg](_srcFiles/Images/install.jpg "installSteps.jpg")

![Linker.jpg](_srcFiles/Images/Linker.jpg "Linker.jpg")

![compilation.jpg](_srcFiles/Images/compilation.jpg "compilation.jpg")

![CompilePhase.jpg](_srcFiles/Images/CompilePhase.jpg "CompilePhase.jpg")

</div>

# ๐ฐ๏ธLIBRARY

* ูุงฺููโูุง ูโุชูุงููุฏ ุจู ูู ูุงุจุณุชฺฏ ุฏุงุดุชู ุจุงุดูุฏ


* /lib/modules #ูุงฺููโูุง ฺฉุฑูู ุฏุฑ ุงูุฌุง ูุฑุงุฑ ุฏุงุฑุฏ ุนู ูุฑ ูุงฺูู ุงุถุงูู ฺฉู ุจุฑุง ฺฉุฑูู ฺฉุงููพุงู ุจุดูุฏ
* /usr/src/linux #ุณูุฑุณ ูููฺฉุณ ุฏุฑ ุฏุจุงู ุฏุฑ ุงูุฌุง ูุฑุงุฑ ุฏุงุฑุฏ
* /usr/src/kernels #ุณูุฑุณ ูููฺฉุณ ุฏุฑ ุชูุฒุน ุฑุฏูุช ุฏุฑ ุงูุฌุง ูุฑุงุฑ ุฏุงุฑุฏ
* /lib/modules/$(uname -r) #list of all the modules currently available on your system

## ๐ฑ๏ธ Library

* ูุนูููุง ูุงู ูุงู ูุง ฺฉุชุงุจุฎุงูู ุจุง ูพุดููุฏ lib ุดุฑูุน ู ุดููุฏ ู ุจุง ูพุณููุฏ .a ุง so ุชูุงู ู ุดููุฏ. ุงู ููุถูุน ุฏุฑ ููุฑุฏ ุชูุงู ฺฉุชุงุจุฎุงูู ูุง ุงุณุชุงูุฏุงุฑุฏ ุณ ุญุชู ุงุณุช
* ุฏุฑุฒูุงู ฺฉุงููพุงู(ุฏุฑุจุฑูุงูู) ููฺฏุงู ููฺฉ ุฏุงุฏู ุจู ฺฉุชุงุจุฎุงูู ูพุณููุฏ ู ูพุดููุฏ ุขูุฑุฏู ูู ุดูุฏ ู ุฎูุฏ ฺฉุงููพุงูุฑ ูุฏุงูุฏ ฺฉู ุจุงุฏ ุขููุง ุฑุง ุงุถุงูู ฺฉูุฏ

## ๐ฑ๏ธ Static Library

* ุจุดุชุฑ ุจุง ูพุณููุฏ a ุฏุฏูโูโุดููุฏ
* ฺฉ ุจุฎุด ุงุฒ ุจุฑูุงูู ูุณุชูุฏ ู ุจู ุจุฑูุงูู ููฺฉ ุดุฏู ุงุณุช

## ๐ฑ๏ธ Dynamic Library

* ุจุดุชุฑ ุจุง ูพุณููุฏ *.so ุฏุฏูโูโุดููุฏ ฺฉู ูุฎูู SharedObject ูโุจุงุดูุฏ
* ฺฉุชุงุจุฎุงููโูุง ูุดุชุฑฺฉ ุฏุฑ ูููฺฉุณ ุจู ุดูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏูุฏ ฺฉู ุงุฒ ฺฉุฏูุง ูุดุชุฑฺฉ ุฏุฑ ุจุฑูุงููโูุง ุฎูุฏ ุงุณุชูุงุฏู ููุงุฏ
* ฺฉุชุงุจุฎุงูู ูุง ุงุดุชุฑุงฺฉ ุฏุฑ ุจุฑูุงูู ุงุฌุฑุง ุงุฏุบุงู ูู ุดููุฏ ุงูุง ุจู ุจุฑูุงูู ุงุฌุฑุง ูุชุตู ูุณุชูุฏ.
* ุจู ุฏูุญุงูุช ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑูุฏ
    * **ุญุงูุชโุงูู:** ุฏุฑ ุฒูุงู ุดุฑูุน ุงุฌุฑุง ุจู ุจุฑูุงูู ูุตู ู ุดููุฏ(ุจุฑูุงูู ุงุฒ ูุจู ูฺฉุงู ู ูุฌูุฏ ุขููุง ุขฺฏุงู ุฏุงุฑุฏ) ุนู ุฏุฑ ุฒูุงู ุงุณุชูุงุฏู(ฺฉุงููพุงู ู ุฒูุงู ููฺฉ ุดุฏู) ุจุงุฏ ูุฌูุฏ ุฏุงุดุชู ุจุงุดูุฏ.
    * **ุญุงูุชโุฏูู:**ฺฉุชุงุจุฎุงูู ูุง ูพูุง ุฏุฑ ุญู ุงุฌุฑุง ููุฏ ู ุจู ุจุฑูุงูู ุงุฌุฑุง ูุชุตู ู ุดููุฏ.
        * ูุซูุง ฺฉ ูพูุงฺฏู ูุฑูุฑฺฏุฑ ุงู ฺฉุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชูุงุจุน ููุฏ ููฺฉ ุณุณุชู ุงูุฌุงู ู ูพุฐุฑุฏ.

### โ๏ธ Create simple share library

* C language
    1. `vi mylib.c`
       ```
         #include <stdio.h>
         void hello() { printf("Hello, World!\n");}
       ``` 
    2. ูุฑุญูู ุฏูู ุณุงุฎุช ฺฉุชุงุจุฎุงูู
        * `gcc -shared -o libmylib.so -fPIC mylib.c`
    3. ูุฑุญูู ุณูู ุงุณุชูุงุฏู ฺฉุชุงุจุฎุงูู
        * ```shell
          // main.c
          #include <stdio.h>
          void hello(); // ุงุนูุงู ุชุงุจุน
          int main() {hello();return 0;}
          ```
    4. ูุฑุญูู ฺูุงุฑู: ฺฉุงููพุงู ุจุฑูุงูู ู ููฺฉ ุจู ฺฉุชุงุจุฎุงูู ุงุดุชุฑุงฺฉ
    5. execute: `./main`
* python Language
    * ```shell
      import ctypes
      mylib = ctypes.CDLL('./libmylib.so') # ุจุงุฑฺฏุฐุงุฑ Shared Object
      mylib.hello() # ูุฑุงุฎูุงู ุชุงุจุน
      ```

## ๐ฑ๏ธ DKMS(DynamicKernelModuleSupport)

* ูุงฺููโูุง ุฑุง ุจู ุขู ูุนุฑู ูโฺฉูู ุชุง ุงฺฏุฑ ฺฉุฑูู ุนูุถ ุดูุฏ ูุงฺููโูุง ฺฉุฑูู ูุจู ูุฒ ุจุฑุง ฺฉุงููพุงู ุฏุฑูุธุฑ ฺฏุฑูุชู ุดูุฏ
    * ูุซูุง ููู ูฺฏุงุฑุด ฺฉููุฏู ุฑู ุตูุญู ูููฺฉุณ ูุงฺูู wacom ุฑุง ุจู ฺฉุฑูู ูโุงูุฒุงุฏ

ูุนูููุง ูุงู ูุงู ูุง ฺฉุชุงุจุฎุงูู ุจุง ูพุดููุฏ lib ุดุฑูุน ู ุดููุฏ ู ุจุง ูพุณููุฏ .a ุง so ุชูุงู ู ุดููุฏ. ุงู ููุถูุน ุฏุฑ ููุฑุฏ ุชูุงู ฺฉุชุงุจุฎุงูู ูุง ุงุณุชุงูุฏุงุฑุฏ ุณ ุญุชู ุงุณุช.
ุฏุฑุฒูุงู ฺฉุงููพุงู(ุฏุฑุจุฑูุงูู) ููฺฏุงู ููฺฉ ุฏุงุฏู ุจู ฺฉุชุงุจุฎุงูู ูพุณููุฏ ู ูพุดููุฏ ุขูุฑุฏู ูู ุดูุฏ ู ุฎูุฏ ฺฉุงููพุงูุฑ ูุฏุงูุฏ ฺฉู ุจุงุฏ ุขููุง ุฑุง ุงุถุงูู ฺฉูุฏ

## ๐ฑ๏ธ Commands

```shell
nm ObjectFile.so # ูุดุงูุฏู ุชูุงุจุน ุฏุงุฎู ฺฉ ุขุจุฌฺฉุช ูุงู
modinfo <modules> :information about modules
lsmod # list of modules
insmod <modules> # append a modules
modprobe <modules> # append a modules
modprobe -r <modules> #remove a modules
modprobe -n <modules> #dry-run ุนู ฺฉุงุฑ ููฺฉูุฏ ู ููุท ููุงุด ูโุฏูุฏ ฺฉู ูุฑุง ุงุณุช ฺู ฺฉุงุฑูุง ุงูุฌุงู ุดูุฏ
modprobe -a : Rebuild the module dependency database using /lib/modules/$(uname -r)/modules.dep
ldd /sbin/ifconfig  | egrep -o '/lib.*\.[0-9]' #ููุงุด ูุณุฑ ูุงฺููโูุง ฺฉ ุจุฑูุงูู
```

# ๐ฐ๏ธMAKEFILE

## 1๏ธโฃ๏ธ.Concept

ุงุณุชูุงุฏู ุงุฒ ุฑูุด ูุงฺููุงุฑ(Modular) ุจูุชุฑู ฺฏุฒูู ุฏุฑ ฺฉุฏููุณ ู ฺฉุงููพุงู ูพุฑูฺูโูุงุณุช ุจฺฏูููโุง ฺฉู ุจุฎุดโูุง ูุฎุชูู ูพุฑูฺู ุจู ุตูุฑุช ูุงฺููโูุง ูุฌุฒุง ฺฉุงููพุงู ุดููุฏ. ุงู ููุถูุน ุณุจุจ ุจุฑูุฒ ูพฺุฏฺฏ ุฎูุงูุฏ ุดุฏ ฺฉู ุจุฏู ุฌูุช ุงุจุฒุงุฑ Make ุจุฑุง ุชุณูู ุงู ูุฑุงุญู ู ุฎูุฏฺฉุงุฑุณุงุฒ ุงู ูุฑุงูุฏ ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏ. ุฑููุฏ ฺฉุงููพุงู ุงู ูุงฺููโูุง ุฏุฑ ูุงู ุจูโูุงู Makefile ุชุนุฑู ูโุดููุฏ.

ููุช ุดูุง ุฏุณุชูุฑ make ุฑุง ุฏุฑ ุฎุท ูุฑูุงู ูโููุณุฏุ ุจุฑูุงููู Make ุฏุฑ ุฏุงุฑฺฉุชูุฑ ูุนูโุง ฺฉู ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏ ูุงู ุจูโูุงู Makefile ุฑุง ูโุฎูุงูุฏ ู ุดุฑูุน ุจู ูพุฑุฏุงุฒุด ุงููู ูุฏู ููุฌูุฏ ุฏุฑ ุขู ูโฺฉูุฏ (Default Goal). ุงูุง ูุจู ุงุฒ ุงูฺฉู ุฏุณุชูุฑุงุช ููุฌูุฏ ุฏุฑ ุงู ูุฏู ุงุฌุฑุง ุดููุฏุ Make ุจุงุฏ ุชูุงู ูพุดโูุงุฒูุง ูุฑุจูุท ุจู ุขู ูุฏู ุฑุง ูพุฑุฏุงุฒุด ฺฉูุฏ. ูุฑ ฺฉ ุงุฒ ุงู ูพุดโูุงุฒูุง ูุฒ ุจุฑุง ุฎูุฏ Rule
ุฏุงุฑูุฏ ฺฉู ุจุฑุง ุณุงุฎุช ุขูโูุง ูพุฑุฏุงุฒุด ุฎูุงูุฏ ุดุฏ.

## 2๏ธโฃ๏ธ.makefile Structure and Syntax

```makefile
Target: PreRequirments
     Commands # ุชู ุฑูุชฺฏ ุญุชูุง ุจุงุฏ ุจุง ุชุจ ุจุงุดุฏ ู ุงุณูพุณ ูุจุงุฏ ุงุณุชูุงุฏู ุดูุฏ
```

* **ุชุงุฑฺฏุช(Target):** ุจู ูุงู(ูุง) ฺฉู ุจุงุฏ ุณุงุฎุชู ุดููุฏ ูุฏู ุง arget) ฺฏูุชู ูโุดูุฏ
    * ูุงู ุฎุฑูุฌ ููุง
    * ูุซู ูุงู object, executable, library
        * ูุงู ูุงู(ูุงโ)ฺฉู ูุฑุงุฑ ุงุณุช ุชูุณุท ฺฉ ุจุฑูุงูู ุงุฌุงุฏ ุดูุฏ ู ุจุง ฺฉ ูุงุตูู (space) ุงุฒ ูู ุชูฺฉฺฉโุดุฏู ุงูุฏ.
        * ุญุช ูโุชูุงูุฏ ูุงู ฺฉุงุฑ ุจุงุดุฏ ฺฉู ูุฑุงุฑ ุงุณุช ุงุฌุฑุง ุดูุฏ. ูุซู ุชูุฒ ฺฉุฑุฏู ฺฉ ูพุฑูฺู (Clean)
        * ุงููู target ููุดุชู ุดุฏู ุฏุฑ ูุงู makefile ุฑุง default Target ูโูุงููุฏ
* **ูพุดโูุงุฒูุง(Dependencies ุง PreRequirment):** ูุงู ูุงู(ูุงโ) ฺฉู ุชุงุฑฺฏุช ุจู ุขููุง ูุงุจุณุชฺฏ ุฏุงุฑุฏ
    * ุจุงุฏ ุญุชูุงู ูุจู ุงุฒ ุงุฌุฑุง ุฏุณุชูุฑ ููุฑุฏ ุจุฑุฑุณ ูุฑุงุฑ ุจฺฏุฑูุฏ.
    * ูุฑฺฉุฏุงู ุงุฒ PreRequirment ูุง ุฎูุฏุดุงู ฺฉ ุชุงุฑฺฏุช ูุณุชูุฏ
    * ุฏุฑ ุตูุฑุช ุชุบุฑ ุฏุฑ ูุฑ ฺฉ ุงุฒ ุงู ูพุดโูุงุฒูุงุ ุชุงุฑฺฏุช ุจุงุฏ ุฏูุจุงุฑู ุณุงุฎุชู ุดูุฏ.
    * ฺฉุฏูุง ุชุบุฑ ฺฉุฑุฏู source ูพุฑูฺู ุฑุง ุจุตูุฑุช ุงุชููุงุชฺฉ ุชุดุฎุต ูโุฏูุฏ. ุงู ุงูฺฉุงู ุฒูุงู ููุฏ ุฎูุงูุฏ ุจูุฏ ฺฉู ุชุนุฏุงุฏ ฺฉุฏูุง source ฺฉ ุจุฑูุงูู ุฒุงุฏ ุงุณุช
    * ุฏุฑ ุตูุฑุช ุชุนุฏุฏ ูพุดูุงุฒ ุชูุณุท ฺฉ ูุงุตูู (space) ุงู ูพุดโูุงุฒูุง ุงุฒ ูู ุชูฺฉฺฉ ูโุดููุฏ
    * ุงูุจุชู ุชุงุฑฺฏุชโูุง ูู ูุณุชูุฏ ฺฉู ูุงุฒ ุจู ูพุดโูุงุฒ ูุฏุงุฑูุฏ
    * ูุซูุง ุชุงุฑฺฏุช Clean ฺฉู ุจุงุฏ ุจุนุถ ุงุฒ ูุงูโูุง ุฑุง ูพุงฺฉ ฺฉูุฏ.
* **ุฏุณุชูุฑ ุง Commands:** ฺฏุงูโูุง ฺฉู Make ุจุฑุง ุณุงุฎุช Targer ุงูุฌุงู ุฎูุงูุฏ ุฏุงุฏ
    * ุจุฑุง ุณุงุฎุช ฺฉ Targer ููฺฉู ุงุณุช ฺูุฏู ุฏุณุชูุฑ ูุงุฒ ุจุงุดุฏ ฺฉู ุจุงุฏ ุฏุฑ ุฎุทูุท ุฌุฏุงฺฏุงูู ููุดุชู ุดููุฏ
    * ูฺฉุชู๐๏ธ ุจุณุงุฑ ููู: ุญุชูุงู ุจุงุฏ ุฏุฑ ุงุจุชุฏุง ุฏุณุชูุฑุงุช ฺฉ ฺฉุงุฑฺฉุชุฑ ุชุจ (TAB) ูุฑุงุฑ ุฏูุฏ
    * ูุฒูู ุจู ูุงุฑุฏ ฺฉุฑุฏู ฺฉุงููุฏ ูุณุช ู ูโุชูุงู rule ููุดุช ฺฉู ฺฉุงููุฏ ูุฏุงุดุชู ุจุงุดุฏ. `output.o: defs.h`

**ุชูุถุญุงุชโุชฺฉูู**

* ุจุฑุง ุงุฏุงูู ุฎุทโูุง ุฏุฑ ุฎุท ุจุนุฏ ุงุฒ โ\โ ุงุณุชูุงุฏู ูโุดูุฏ
* ุจุฑุง ฺฉุงููพุงู makefile.in ุจุงุฏ ุจุฑูุงูู make ุฏุฑ ุณุณุชูโุนุงูู ฺฉุงููพุงูโฺฉููุฏู ูุตุจ ุดุฏู ุจุงุดุฏ
* ุงูฺฉุงู include ูููุฏู ูุฌููุนู makefile ูุง ุฏฺฏุฑ ุฏุฑ ุฏุงุฎู Makefile ุงุตู
* ุงุณุชูุงุฏู ุงุฒ # ุจุฑุง ููุดุชู ฺฉุงููุช ูุง
* ููุท ุจุฑุง ฺฉุงููพุงู ุจุฑูุงููโูุง ุงุณุชูุงุฏู ููโุดูุฏ ุจูฺฉู ูุฑ ฺฉุงุฑ ุงุนู ุงุฒ ุจุฑูุฒุฑุณุงู(ูุงูโูุง) ู ุชุบุฑ ุง ุญุฐู ูุฒ ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏ
* ุจุฏูู ููุดุชูโุดุฏู ุฌุฒุฆุงุช ุฏุฑ Makefile ุ ุงูฺฉุงู ฺฉุงููพุงู ู ูุตุจ ุฑุง ุจุฑุง ฺฉุงุฑุจุฑ ุณุงุฏู (ุจุฏูู ุงุทูุงุนุงุช ูู) ูุฑุงูู ูโุขูุฑุฏ
* ุฏุณุชูุฑุงุช ูุงู makefile ุฏุฑ shell ุงุฌุฑุง ูโุดููุฏ ุชุง ุณุจุจ ุงุฌุงุฏ ูุงู ุงุฌุฑุง ูพุฑูฺู ฺฏุฑุฏูุฏ
* ุงุณุชูุงุฏู ุงุฒ Make ูุงุจุณุชู ุจู ุฒุจุงู ุจุฑูุงููโููุณ ุฎุงุต ูุณุช.
* ุจุฑูุงูู ldd ุฏุฑ ูููฺฉุณ ูุงุจุฑุฑโูุง ุงุดุชุฑุงฺฉ ฺฉ ุจุฑูุงูู ุงุฌุฑุง ุฑุง ูุณุช ูโฺฉูุฏ

## 3๏ธโฃ๏ธ.Rules

ููุงูู  (Rules) ุจู ุฏู ุฏุณุชู ฺฉู ุชูุณู ูโุดููุฏ:

**ุฏุณุชู ุงูู-ููุงูู ุตุฑุญ (Explicit Rules):** ุฎูุฏูุงู ุจุตูุฑุช ูุณุชูู ูุงู ุฏูู targetุ dependencies ู ุฏุณุชูุฑุงุช build ุฑุง ูุดุฎุต ฺฉู

* ุงูุนุทุงูโูพุฐุฑ ุจุดุชุฑ
* ุฎูุงูุง ูุงุถุญโุชุฑ
* ูุซุงู: ูุฑุถ ฺฉูุฏ ฺฉ ุจุฑูุงูู C ุฏุงุฑุฏ ุจุง ูุงู `main.c` ู ูโุฎูุงูุฏ ุขู ุฑุง ุจู ฺฉ ุงุฌุฑุง ุจู ูุงู `myprogram` ฺฉุงููพุงู ฺฉูุฏ.

```makefile
myprogram: main.c
  gcc -o myprogram main.c
```

**ุฏุณุชู ุฏูู-ููุงูู ุบุฑุตุฑุญ (Implicit Rules):** ุจุฑูุงูู Make ุฎูุฏุด ุชุดุฎุต ุฏูุฏ ฺฺฏููู ฺฉ ูุงู ุฑุง ุจุณุงุฒุฏุ ุจุฏูู ุงูฺฉู ุดูุง ุฌุฒุฆุงุช ุฏุณุชูุฑุงุช ุฑุง ุจููุณุฏ. ุงู ููุงูู ูพุดโูุฑุถ ูุณุชูุฏ ู ุจุฑ ุงุณุงุณ ูพุณููุฏูุง ูุงูโูุง ุนูู ูโฺฉููุฏ.

* ุงูุนุทุงูโูพุฐุฑ ฺฉูุชุฑ (ุงูุง ฺฉุงุฑุจุฑุฏ ุนููู ุฏุงุฑุฏ)
* ุฎูุงูุงู ฺฉูุชุงูโุชุฑ ุงูุง ฺฏุงู ฺฏุฌโฺฉููุฏู ุจุฑุง ุชุงุฒูโฺฉุงุฑูุง
* ูุซุงู:ุงฺฏุฑ ูุงู `main.c` ููุฌูุฏ ุจุงุดุฏ ู ฺฉ target ุจู ูุงู `main.o` ุชุนู ฺฉูุฏุ Make ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ู ุถูู ูโุฏุงูุฏ ฺฉู ุจุงุฏ `main.c` ุฑุง ุจุง gcc ฺฉุงููพุงู ฺฉูุฏ.
    * ุนู ูโุชูุงูุฏ ููุท ูุทุนู ฺฉุฏ ุฒุฑ ุฑุง ุจุนููุงู ูุงููู ุบุฑ ุตุฑุญ(Implicit Rules) ุจููุณุฏ

```makefile
main.o:
```

* ุฏุฑ ููุถูุน ููุงูู ุบุฑุตุฑุญ (Implicit Rules) ุฏู ูุทุนู ฺฉุฏ ุฒุฑ ูุดุงุจู ูุณุชูุฏ. ููุงุฑุฏ ุชุนุฑู ุดุฏู ุฏุฑ ุจุฎุด ุฏูู ุจุตูุฑุช ุถูู ุชูุณุท ุจุฑูุงูู Make ุฎูุฏุด ูุงููู ุถูู (implicit) ุฑุง ุจู ฺฉุงุฑ ูโุจุฑุฏ.

```makefile
#1๏ธโฃ๏ธ Explicit Rule ุง ุบุฑุตุฑุญ
main.o:

#2๏ธโฃ๏ธ:Implicit Rule ุง ุตุฑุญ
main.o: main.c
  gcc -c main.c -o main.o

```

## 4๏ธโฃ๏ธ.Variables

ูุชุบุฑูุง ุจุฑุง ุณุงุฏูโุณุงุฒ ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑูุฏ(ุฏู ููููู ุฒุฑ ฺฉุณุงู ูุณุชูุฏ)

```makefile
edit : main.o kbd.o command.o display.o insert.o search.o files.o utils.o
cc -o edit main.o kbd.o command.o display.o insert.o search.o files.o utils.o
```

```makefile
objects = main.o kbd.o command.o display.o insert.o search.o files.o utils.o

edit : $(objects)
cc -o edit $(objects)
```

* ุจุง ฺฉุงุฑุงฺฉุชุฑ ุฏุงูุฑ ุดุฑูุน ูโุดูุฏ
* ูุชุบุฑูุง ุจุงุฏ ุฏุฑูู ูพุฑุงูุชุฒ ุง ุขฺฉููุงุฏ ูุฑุงุฑ ุจฺฏุฑูุฏ
* ุชูุฑุจุงู ุชูุงู Makefileูุง ูุชุบุฑ ุจุง ูุงู ุดุจู ุจู objects ุง OBJECTS ุง objs ุง OBJS ุง obj ุง OBJ ุฏุงุฑูุฏ ฺฉู ููุฑุณุช ุงุฒ ูุงู ุชูุงู ุขุจุฌฺฉุชโูุง ููุฑุฏ ูุงุฒ ุฏุฑ ูพุฑูฺู ุฑุง ุฏุฑ ุฎูุฏ ูฺฏู ุฏุงุดุชูโุงุณุช
* ูุชุบุฑ ูโุชูุงูุฏ ุดุงูู ฺฉุงุฑุงฺฉุชุฑ ูุงุตูู ุจุงุดุฏ. ุนู ููุงุฑุฏ ุฑุง ุชูุณุท ูุงุตูู ุงุฒ ูู ุฌุฏุง ููุงุฏ

### โ๏ธ GeneralVariable

<div style="direction: rtl">

ุฌุฏูู ฺฉุงูู ูุชุบุฑูุง ุฑุงุฌ ุฏุฑ Makefile

| ูุงู ูุชุบุฑ       | ููุน      | ุชูุถุญ ฺฉุงูู                                                  | ูุซุงู ุงุณุชูุงุฏู                                                |
|-----------------|----------|-------------------------------------------------------------|-------------------------------------------------------------|
| `CC`            | ฺฉุงููพุงูุฑ | ูุดุฎุต ฺฉููุฏู ฺฉุงููพุงูุฑ C (ูุงููุฏ `gcc`, `clang`)                | `CC = gcc`                                                  |
| `CXX`           | ฺฉุงููพุงูุฑ | ูุดุฎุต ฺฉููุฏู ฺฉุงููพุงูุฑ C++ (ูุงููุฏ `g++`, `clang++`)            | `CXX = g++`                                                 |
| `CPP`           | ฺฉุงููพุงูุฑ | ูพุดโูพุฑุฏุงุฒูุฏู C/C++                                          | `CPP = cpp`                                                 |
| `FC`            | ฺฉุงููพุงูุฑ | ฺฉุงููพุงูุฑ ุฒุจุงู Fortran                                       | `FC = gfortran`                                             |
| `PC`            | ฺฉุงููพุงูุฑ | ฺฉุงููพุงูุฑ Pascal (ูุงููุฏ `fpc`)                               | `PC = fpc`                                                  |
| `CFLAGS`        | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ ุจุฑุง ุฒุจุงู C                              | `CFLAGS = -Wall -Wextra -O2`<br>`CFLAGS = -Wall -Wextra -g` |
| `CXXFLAGS`      | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ ุจุฑุง ุฒุจุงู C++                            | `CXXFLAGS = -std=c++17 -g`                                  |
| `FFLAGS`        | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ Fortran                                  | `FFLAGS = -O3 -m64`                                         |
| `PFLAGS`        | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ Pascal                                   | `PFLAGS = -Mobjfpc -Criot`                                  |
| `CPPFLAGS`      | ฺฏุฒููโูุง | ฺฏุฒููโูุง ูพุดโูพุฑุฏุงุฒูุฏู C/C++ (ูุซู `-I`, `-D`)               | `CPPFLAGS = -Iinclude -DNDEBUG`                             |
| `LDFLAGS`       | ฺฏุฒููโูุง | ฺฏุฒููโูุง ููฺฉุฑ (ูุงููุฏ `-L`, `-rpath`)                      | `LDFLAGS = -L/usr/local/lib`                                |
| `LDLIBS`        | ููฺฉุงฺ   | ูุจุฑโูุง ฺฉู ุจุงุฏ ููฺฉ ุดููุฏ                                | `LDLIBS = -lm -lpthread`                                    |
| `AR`            | ฺฉุงุฑููุจ  | ฺฉุงุฑููุจ (archive tool) ุจุฑุง ุณุงุฎุช static library             | `AR = ar`                                                   |
| `ARFLAGS`       | ฺฏุฒููโูุง | ฺฏุฒููโูุง `ar` (ูุงููุฏ `rcs`)                                | `ARFLAGS = rcs`                                             |
| `RANLIB`        | ฺฉุงุฑููุจ  | ุงุจุฒุงุฑ ุจุฑุง ุงุฌุงุฏ ููุฑุณุช ููุงุฏูุง ูุงุจู ููฺฉ ุฏุฑ static library | `RANLIB = ranlib`                                           |
| `RM`            | ุณุณุชู   | ุฏุณุชูุฑ ุญุฐู ูุงู (ูุนูููุงู `rm -f`)                            | `RM = rm -f`                                                |
| `INSTALL`       | ุณุณุชู   | ุฏุณุชูุฑ ูุตุจ ูุงูโูุง ุฏุฑ ุณุณุชู                                  | `INSTALL = install`                                         |
| `prefix`        | ูุณุฑ     | ูพุดููุฏ ูุณุฑ ุงุตู ุจุฑุง ูุตุจ (ูุนูููุง `/usr/local`)             | `prefix = /usr/local`                                       |
| `exec_prefix`   | ูุณุฑ     | ูพุดููุฏ ูุณุฑ ุงุฌุฑุง (ูุนูููุง `$(prefix)`)                     | `exec_prefix = $(prefix)`                                   |
| `bindir`        | ูุณุฑ     | ูุณุฑ ูุตุจ ุงุฌุฑุงโูุง                                          | `bindir = $(exec_prefix)/bin`                               |
| `includedir`    | ูุณุฑ     | ูุณุฑ ูุตุจ header ูุงูโูุง                                     | `includedir = $(prefix)/include`                            |
| `libdir`        | ูุณุฑ     | ูุณุฑ ูุตุจ ูุจุฑโูุง                                           | `libdir = $(exec_prefix)/lib`                               |
| `datadir`       | ูุณุฑ     | ูุณุฑ ูุตุจ ุฏุงุฏูโูุง ูุดุชุฑฺฉ                                     | `datadir = $(prefix)/share`                                 |
| `mandir`        | ูุณุฑ     | ูุณุฑ ูุตุจ ูุงูโูุง ุฑุงูููุง (man pages)                        | `mandir = $(datadir)/man`                                   |
| `SRCS`          | ููุจุน     | ูุณุช ูุงูโูุง ููุจุน (ูุงููุฏ `.c`, `.cpp`, `.f90`)             | `SRCS = main.c utils.c`                                     |
| `OBJS`          | object   | ูุณุช ูุงูโูุง object (ูุงููุฏ `.o`)                           | `OBJS = main.o utils.o`                                     |
| `HDRS`          | ููุจุน     | ูุณุช header ูุงูโูุง (ูุงููุฏ `.h`)                            | `HDRS = utils.h`                                            |
| `TARGET`        | ุฎุฑูุฌ    | ูุงู ุจุฑูุงูู ุง ูุจุฑ ููุง                                   | `TARGET = myprogram`                                        |
| `PROGS`         | ุฎุฑูุฌ    | ูุณุช ุชูุงู ุจุฑูุงููโูุง ฺฉู build ูโุดููุฏ                      | `PROGS = app1 app2`                                         |
| `LIBS`          | ุฎุฑูุฌ    | ูุณุช ูุจุฑโูุง ฺฉู build ูโุดููุฏ                            | `LIBS = libmylib.a`                                         |
| `TESTS`         | ุชุณุช      | ูุณุช ุชุณุชโูุง ูุงุญุฏ ุง ุชุณุชโฺฉุณโูุง                             | `TESTS = test_math test_utils`                              |
| `DOCS`          | ูุณุชูุฏุงุช  | ูุงูโูุง ูุณุชูุฏุงุช ุชููุฏ (ูุงููุฏ HTML, PDF)                   | `DOCS = docs/html/index.html`                               |
| `TAGS`          | ุงุจุฒุงุฑ    | ูุงูโูุง ุชฺฏ (ุจุฑุง vim/emacs)                                | `TAGS = tags`                                               |
| `MAKEDEPEND`    | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ ุจุฑุง ุชููุฏ ูุงุจุณุชฺฏโูุง include                       | `MAKEDEPEND = makedepend`                                   |
| `YACC`          | ุงุจุฒุงุฑ    | parser generator (ูุงููุฏ `bison`)                            | `YACC = bison`                                              |
| `LEX`           | ุงุจุฒุงุฑ    | lexer generator (ูุงููุฏ `flex`)                              | `LEX = flex`                                                |
| `FLEX`          | ุงุจุฒุงุฑ    | flex lexer generator                                        | `FLEX = flex`                                               |
| `BISON`         | ุงุจุฒุงุฑ    | Bison parser generator                                      | `BISON = bison`                                             |
| `MOC`           | Qt       | Meta-Object Compiler for Qt                                 | `MOC = moc`                                                 |
| `UIC`           | Qt       | UI compiler for Qt                                          | `UIC = uic`                                                 |
| `QMAKE`         | Qt       | QMake utility                                               | `QMAKE = qmake`                                             |
| `JAVAC`         | Java     | ฺฉุงููพุงูุฑ ุฒุจุงู Java                                          | `JAVAC = javac`                                             |
| `JFLAGS`        | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ Java                                     | `JFLAGS = -g`                                               |
| `PYTHON`        | Python   | ููุณุฑ ุง ฺฉุงููพุงูุฑ Python                                     | `PYTHON = python3`                                          |
| `SWIG`          | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ ุชููุฏ wrapper ุจู ุฒุจุงูโูุง ูุฎุชูู                      | `SWIG = swig`                                               |
| `SWIGFLAGS`     | ฺฏุฒููโูุง | ฺฏุฒููโูุง SWIG                                              | `SWIGFLAGS = -python`                                       |
| `SED`           | ุณุณุชู   | ุฌุณุชุฌู ู ุฌุงฺฏุฒู ุงูฺฏู ุฏุฑ ูุงูโูุง                            | `SED = sed`                                                 |
| `AWK`           | ุณุณุชู   | ูพุฑุฏุงุฒุด ุงูฺฏู ู ุฏุงุฏู ุฏุฑ ูุงูโูุง                               | `AWK = awk`                                                 |
| `GREP`          | ุณุณุชู   | ุฌุณุชุฌู ุฏุฑ ูุงูโูุง                                            | `GREP = grep`                                               |
| `CP`            | ุณุณุชู   | ฺฉูพ ฺฉุฑุฏู ูุงูโูุง                                            | `CP = cp`                                                   |
| `MV`            | ุณุณุชู   | ุชุบุฑ ูุงู ุง ุงูุชูุงู ูุงู                                    | `MV = mv`                                                   |
| `MKDIR`         | ุณุณุชู   | ุงุฌุงุฏ ูพูุดู                                                  | `MKDIR = mkdir -p`                                          |
| `TAR`           | ุณุณุชู   | ุงุจุฒุงุฑ tar ุจุฑุง ูุดุฑุฏูโุณุงุฒ                                   | `TAR = tar`                                                 |
| `ZIP`           | ุณุณุชู   | ุงุจุฒุงุฑ zip ุจุฑุง ูุดุฑุฏูโุณุงุฒ                                   | `ZIP = zip`                                                 |
| `UNZIP`         | ุณุณุชู   | ุงุจุฒุงุฑ unzip ุจุฑุง ุจุงุฒ ฺฉุฑุฏู ูุงูโูุง zip                      | `UNZIP = unzip`                                             |
| `GIT`           | ุงุจุฒุงุฑ    | ูุฏุฑุช ูุณุฎูโูุง                                              | `GIT = git`                                                 |
| `VALGRIND`      | ุชุณุช      | ุงุจุฒุงุฑ ุชุณุช ุญุงูุธู                                             | `VALGRIND = valgrind`                                       |
| `GCOV`          | ุชุณุช      | ุงุจุฒุงุฑ code coverage ุจุฑุง GCC                                | `GCOV = gcov`                                               |
| `PERL`          | ุณุณุชู   | ููุณุฑ Perl                                                   | `PERL = perl`                                               |
| `PHP`           | ุณุณุชู   | ููุณุฑ PHP                                                    | `PHP = php`                                                 |
| `SHELL`         | ุณุณุชู   | shell ุงุณุชูุงุฏู ุดุฏู ุฏุฑ Makefile (ูุนูููุงู `/bin/sh`)           | `SHELL = /bin/bash`                                         |
| `MAKE`          | ุงุจุฒุงุฑ    | ุฎูุฏ ุฏุณุชูุฑ `make`                                            | `MAKE = make`                                               |
| `DESTDIR`       | ูุณุฑ     | ูุณุฑ ูููุช ุจุฑุง ูุตุจ (ูุจู ุงุฒ root)                            | `DESTDIR = /tmp/install`                                    |
| `PREFIX`        | ูุณุฑ     | ูุนุงุฏู `prefix`ุ ุจุฑุง ุณุงุฒฺฏุงุฑ ุจุง ุจุนุถ ูพุฑูฺูโูุง               | `PREFIX = /opt/myapp`                                       |
| `VERSION`       | ุนููู    | ูุณุฎู ูุฑูโุงูุฒุงุฑ                                              | `VERSION = 1.0.0`                                           |
| `DEBUG`         | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง enable ฺฉุฑุฏู debug                                  | `DEBUG = -g`                                                |
| `OPTIMIZE`      | ฺฏุฒููโูุง | ููฺฏ ุจูููโุณุงุฒ                                              | `OPTIMIZE = -O3`                                            |
| `PROFILE`       | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง profiling                                          | `PROFILE = -pg`                                             |
| `STATIC`        | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง build static                                       | `STATIC = -static`                                          |
| `SHARED`        | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง build shared library                               | `SHARED = -shared`                                          |
| `PIC`           | ฺฏุฒููโูุง | Position Independent Code ุจุฑุง ูุจุฑโูุง shared             | `PIC = -fPIC`                                               |
| `THREADS`       | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง ูพุดุชุจุงู ุงุฒ multi-threading                        | `THREADS = -pthread`                                        |
| `VERBOSE`       | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง ููุงุด ุฌุฒุฆุงุช build                                 | `VERBOSE = 1`                                               |
| `CONFIG`        | ุนููู    | ุชูุธูุงุช ูพฺฉุฑุจูุฏ                                            | `CONFIG = release`                                          |
| `OS`            | ุนููู    | ุณุณุชู ุนุงูู ูุฏู                                              | `OS = Linux`                                                |
| `ARCH`          | ุนููู    | ูุนูุงุฑ CPU ูุฏู                                              | `ARCH = x86_64`                                             |
| `EXEEXT`        | ุฎุฑูุฌ    | ูพุณููุฏ ูุงู ุงุฌุฑุง (ุฏุฑ ููุฏูุฒ `.exe`)                        | `EXEEXT = .exe`                                             |
| `OBJEXT`        | object   | ูพุณููุฏ ูุงู object                                           | `OBJEXT = .o`                                               |
| `LIBEXT`        | ุฎุฑูุฌ    | ูพุณููุฏ ูุงู ูุจุฑ (`.a`, `.so`, `.dll`)                      | `LIBEXT = .a`                                               |
| `DOCSDIR`       | ูุณุฑ     | ูุณุฑ ุฐุฎุฑู ูุณุชูุฏุงุช                                          | `DOCSDIR = $(prefix)/doc/$(PROJECT)`                        |
| `ETCDIR`        | ูุณุฑ     | ูุณุฑ ูุงูโูุง config                                        | `ETCDIR = $(prefix)/etc`                                    |
| `DATADIR`       | ูุณุฑ     | ูุณุฑ ุฏุงุฏูโูุง ุจุฑูุงูู                                        | `DATADIR = $(prefix)/data`                                  |
| `LOCALEDIR`     | ูุณุฑ     | ูุณุฑ ูุงูโูุง ุชุฑุฌูู                                         | `LOCALEDIR = $(DATADIR)/locale`                             |
| `SYSCONFDIR`    | ูุณุฑ     | ูุณุฑ ูุงูโูุง ูพฺฉุฑุจูุฏ ุณุณุชู                               | `SYSCONFDIR = /etc`                                         |
| `LOCALSTATEDIR` | ูุณุฑ     | ูุณุฑ ุฏุงุฏูโูุง ูุญู ุณุณุชู (ูุงููุฏ log, run)                   | `LOCALSTATEDIR = /var`                                      |
| `INFODIR`       | ูุณุฑ     | ูุณุฑ info manuals                                           | `INFODIR = $(prefix)/info`                                  |
| `HTMLDIR`       | ูุณุฑ     | ูุณุฑ ูุณุชูุฏุงุช HTML                                           | `HTMLDIR = $(DOCSDIR)/html`                                 |
| `PDFDIR`        | ูุณุฑ     | ูุณุฑ ูุณุชูุฏุงุช PDF                                            | `PDFDIR = $(DOCSDIR)/pdf`                                   |
| `MANDIR`        | ูุณุฑ     | ูุณุฑ ูุงูโูุง man page                                      | `MANDIR = $(DATADIR)/man`                                   |
| `XSLTPROC`      | ุงุจุฒุงุฑ    | XSLT processor                                              | `XSLTPROC = xsltproc`                                       |
| `DOXYGEN`       | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ ุชููุฏ ูุณุชูุฏุงุช Doxygen                                 | `DOXYGEN = doxygen`                                         |
| `SPHINXBUILD`   | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ ุณุงุฎุช ูุณุชูุฏุงุช Sphinx                                   | `SPHINXBUILD = sphinx-build`                                |
| `CTEST`         | ุชุณุช      | ุชุณุช runner ุจุฑุง CMake                                       | `CTEST = ctest`                                             |
| `AUTOMAKE`      | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ Automake                                              | `AUTOMAKE = automake`                                       |
| `AUTOCONF`      | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ Autoconf                                              | `AUTOCONF = autoconf`                                       |
| `LIBTOOL`       | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ Libtool                                               | `LIBTOOL = libtool`                                         |
| `PKG_CONFIG`    | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ pkg-config ุจุฑุง ุงูุชู ูุจุฑโูุง                        | `PKG_CONFIG = pkg-config`                                   |
| `WGET`          | ุณุณุชู   | ุฏุงูููุฏ ูุงู ุงุฒ ุทุฑู HTTP                                    | `WGET = wget`                                               |
| `CURL`          | ุณุณุชู   | ุฏุงูููุฏ/ุขูพููุฏ ุฏุงุฏู ุงุฒ ุทุฑู ุดุจฺฉู                              | `CURL = curl`                                               |
| `SSH`           | ุณุณุชู   | ุงุชุตุงู ุจู ุฑูุช Remote                                         | `SSH = ssh`                                                 |
| `SCP`           | ุณุณุชู   | ฺฉูพ ูุงู ุฑู SSH                                            | `SCP = scp`                                                 |
| `RSYNC`         | ุณุณุชู   | ุณูฺฉุฑูู ฺฉุฑุฏู ูุงูโูุง                                         | `RSYNC = rsync`                                             |
| `DATE`          | ุณุณุชู   | ููุงุด ุง ุชุจุฏู ุชุงุฑุฎ                                        | `DATE = date`                                               |
| `UUIDGEN`       | ุณุณุชู   | ุชููุฏ UUID                                                  | `UUIDGEN = uuidgen`                                         |
| `BASENAME`      | ุณุณุชู   | ููุงุด ูุงู ูุงู ุจุฏูู ูุณุฑ                                    | `BASENAME = basename`                                       |
| `DIRNAME`       | ุณุณุชู   | ููุงุด ูุณุฑ ูุงู ุจุฏูู ูุงู ูุงู                               | `DIRNAME = dirname`                                         |
| `REALPATH`      | ุณุณุชู   | ููุงุด ูุณุฑ ูุงูุน ูุงู                                       | `REALPATH = realpath`                                       |
| `HOSTNAME`      | ุณุณุชู   | ููุงุด ูุงู ูุงุณุช                                              | `HOSTNAME = hostname`                                       |
| `UNAME`         | ุณุณุชู   | ููุงุด ุงุทูุงุนุงุช ุณุณุชู                                         | `UNAME = uname`                                             |
| `ID`            | ุณุณุชู   | ููุงุด ุดูุงุณู ฺฉุงุฑุจุฑ                                           | `ID = id`                                                   |
| `WHOAMI`        | ุณุณุชู   | ููุงุด ูุงู ฺฉุงุฑุจุฑ ูุนู                                        | `WHOAMI = whoami`                                           |

</div>

* ุจุง ูุฌูุฏ makefile ุฒุฑ ุจุง ุฒุฏู ุฏุณุชูุฑ `make` ุจุงุฏ main.c ุฑุง ุจุง ุฏุณุชูุฑ `gcc -Wall -Wextra -g -o main main.c` ฺฉุงููพุงู ฺฉูุฏ

```makefile
CC = gcc
CFLAGS = -Wall -Wextra -g

main: main.c
```

* ุจุง ูุฌูุฏ makefile ุฒุฑ ุจุง ุฒุฏู ุฏุณุชูุฑ `make` ุจุงุฏ ุฏุณุชูุฑ `gcc -Wall -Wextra -g   -c -o main.o main.c` ุงุฌุฑุง ุดูุฏ
    * ุงฺฏุฑ ูุงู main.c ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ make ููโุชูุงูุฏ main.o ุฑุง ุจุณุงุฒุฏ ู ุฎุทุง ูโุฏูุฏ.

```makefile
CC = gcc
CFLAGS = -Wall -Wextra -g

all: main.o

main.o:
```

### โ๏ธ Automatic variables[ูุชุบุฑูุง ุฎูุฏฺฉุงุฑ]

ูุชุบุฑูุง ูุณุชูุฏ ฺฉู ุชูุณุท make ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ููุช ฺฉ ูุงุนุฏู(rule) ุจุง ฺฉ ูุฏู(target) ู ูุงุจุณุชฺฏโูุง(prerequisites) ุขู ูุทุงุจูุช ูพุฏุง ูโฺฉูุฏ ุ ุชูุธู ูโุดููุฏ
ุงู ูุชุบุฑูุง ุจุณุงุฑ ููุฏ ูุณุชูุฏ ุฒุฑุง ุจู ุดูุง ุงุฌุงุฒู ูโุฏููุฏ ุจุฏูู ููุดุชู ุฏูุจุงุฑู ูุณุฑูุง ู ูุงู ูุงูโูุงุ ุฏุฑ ุฏุณุชูุฑุงุช build ุงุณุชูุงุฏู ฺฉูุฏ.

* ูุชุบุฑูุง ุฎูุฏฺฉุงุฑ ูพุณ ุงุฒ ูุทุงุจูุช ฺฉ ูุงุนุฏู ุชูุณุท make ุชูุธู ูโุดููุฏ
    * $@: ุงู ูุชุบุฑ ุญุงู ููุฏุงุฑ ุชุงุฑฺฏุช ุงุณุช(ุฏููุง ุนุจุงุฑุช ุชุงุฑฺฏุช)
    * $*: ุงู ูุชุบุฑ ุญุงู ููุท ูุงู ุชุงุฑฺฏุช ุงุณุช(ุจุฏูู ูพุณููุฏ)
    * $<: ูุงู ุงููู ูพุดูุงุฒ
    * $^: ุชูุงู ูพุดูุงุฒูุง(**ุจุฏูู** ุชฺฉุฑุงุฑ)
        * ุงฺฏุฑ ุจุดุชุฑ ุงุฒ ฺฉ ููุฑุฏ ุจุงุดูุฏ ุชูุณุท ุฎุท ูุงุตูู ุงุฒ ูู ุฌุฏุง ุฎูุงููุฏ ุดุฏ
    * $+: ุชูุงู ูพุดูุงุฒูุง(**ุจุง** ุชฺฉุฑุงุฑ)
        * ุงฺฏุฑ ุจุดุชุฑ ุงุฒ ฺฉ ููุฑุฏ ุจุงุดูุฏ ุชูุณุท ุฎุท ูุงุตูู ุงุฒ ูู ุฌุฏุง ุฎูุงููุฏ ุดุฏ
    * $?: ูุงู ุชูุงู ูุงุจุณุชฺฏโูุง(ูพุดโูุงุฒูุง) ฺฉู ุฌุฏุฏุชุฑ ุงุฒ ูุฏู(ุชุงุฑฺฏุช) ูุณุชูุฏ
        * ุงฺฏุฑ ุจุดุชุฑ ุงุฒ ฺฉ ููุฑุฏ ุจุงุดูุฏ ุชูุณุท ุฎุท ูุงุตูู ุงุฒ ูู ุฌุฏุง ุฎูุงููุฏ ุดุฏ
        * ููุช make ฺฉ ูุงุนุฏู(rule)ุฑุง ูพุฑุฏุงุฒุด ูโฺฉูุฏุ ุฒูุงู ุขุฎุฑู ุชุบุฑ ูุฑ ูุงู ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ.ุงฺฏุฑ ฺฉ ุงุฒ ูุงุจุณุชฺฏโูุง ุจุนุฏ ุงุฒ ุณุงุฎุชู ุชุงุฑฺฏุช ุชุบุฑ ฺฉุฑุฏู ุจุงุดุฏุ ุขู ูุงุจุณุชฺฏ "ุฌุฏุฏุชุฑ" ูุญุณูุจ ูโุดูุฏ.

ุจุฑุง ููู ุจูุชุฑ $? ุจู ุชูุถุญุงุช ุฒุฑ ุชูุฌู ููุงุฏ

```makefile
main.o: main.c defs.h
    $(CC) -c $< -o $@
```

* ูุฑุถ ุดูุฏ ฺฉู
    * ูุงู `main.c` ุขุฎุฑู ุจุงุฑ ฑฐ ุฏููู ูุจู ุชุบุฑ ฺฉุฑุฏูโุจุงุดุฏ
    * ูุงู `defs.h` ุขุฎุฑู ุจุงุฑ ฒ ุณุงุนุช ูุจู ุชุบุฑ ฺฉุฑุฏูโุจุงุดุฏ
    * ูุงู `main.o` ุขุฎุฑู ุจุงุฑ ณ ุณุงุนุช ูุจู ุชุบุฑ ฺฉุฑุฏูโุจุงุดุฏ
* ุขูฺฏุงู
    * ูุงู main.c ุฌุฏุฏุชุฑ ุงุฒ main.o ุงุณุช. ูพุณ ุนู ุจุงุฏ ุฏุฑ $? ุจุงุดุฏ
    * ูุงู defs.h ูุฏูโุชุฑ ุงุฒ main.o ุงุณุช. ูพุณ ุนู ุจุงุฏุฏุฑ $? ูุจุงุดุฏ
* ุจูุงุจุฑุงู
    * $? = main.c

### โ๏ธ Examples

**Example1๏ธโฃ๏ธ:**

```makefile
main.o: main.c utils.h
    $(CC) -c $< -o $@
```

* $@ โ `main.o`
* $< โ `main.c`
* $^ โ `main.c` `utils.h`
* $* โ `main`
* $+ โ `main.c` `utils.h`
* $? โ Only the dependencies that are newer than `main.o`
    * ููุท ูุงุจุณุชฺฏโูุง ฺฉู ุฌุฏุฏุชุฑ ุงุฒ main.o ูุณุชูุฏ
    * ูุซูุงู ุงฺฏุฑ utils.h ุชุบุฑ ฺฉุฑุฏู ุจุงุดุฏุ $? ุจุฑุงุจุฑ main.c utils.h ูโุดูุฏ

**Example2๏ธโฃ๏ธ:**

```makefile
all: program
program: main.o utils.o
    $(CC) $^ -o $@
main.o: main.c defs.h
    $(CC) -c $< -o $@
utils.o: utils.c defs.h
    $(CC) -c $< -o $@
```

* for `main.o`
    * $@ = main.o โ TargetName
    * $< = main.c โ First Dependency
    * $^ = main.c defs.h โ All dependences, discard duplicates.
    * $* = main โ 'TargetName' without extension
    * $?
        * ููุท ูุงูโูุง ฺฉู ุฌุฏุฏุชุฑ ุงุฒ main.o ูุณุชูุฏ (ูุซูุงู main.c)
    * $+ = main.c defs.h โ All dependences
        * ุฏุฑ ุงู ุญุงูุช ุชฺฉุฑุงุฑ ูุฏุงุฑู
* for `utils.o`
    * $@ = utils.o
    * $< = utils.c
    * $^ = utils.c defs.h
    * $* = utils
    * $?
        * ูุงูโูุง ฺฉู ุฌุฏุฏุชุฑ ุงุฒ utils.o ูุณุชูุฏ (ูุซูุงู utils.c)
    * $+ = utils.c defs.h
    * =
* for `program`
    * $@ = program
    * $^ = main.o utils.o โ All dependences, discard duplicates.
    * $< = main.o โ First Dependency
    * $* = program โ 'TargetName' without extension
    * $?
        * ูุงูโูุง ฺฉู ุฌุฏุฏุชุฑ ุงุฒ program ูุณุชูุฏ (ูุซูุงู main.o)
    * $+ = main.o utils.o

**Example3๏ธโฃ๏ธ:**

ุฏุฑ ูุทุนูโฺฉุฏ ุฒุฑ ุดฺฉู ุนุงุฏ ู ุดฺฉู ุชูุฃู ุจุง ูุชุบุฑ ุฑุง ูุดุงูุฏู ูโฺฉูุฏ(ูุฑ ุฏู ฺฉุณุงู ูุณุชูุฏ ูู ุจุง ูฺฏุงุฑุด ูุชูุงูุช)

  ```shell
  all: hello.exe
  hello.exe: hello.o
       gcc -o hello.exe hello.o
  hello.o: hello.c
       gcc -c hello.c
  clean:
       rm hello.o hello.exe
  ```

  ```shell
  # Ussing variables(ุงุณุชูุงุฏู ุงุฒ ูุฏู ูุชุบุฑฺฏููู)
  all: hello.exe
  # $@ matches the target; $< matches the first dependent
  hello.exe: hello.o
      gcc -o $@ $<
  hello.o: hello.c
      gcc -c $<
  clean:
      rm hello.o hello.exe
  ```

## 5๏ธโฃ๏ธ.VirtualPath

**ูโูพูุช ุจุง ุญุฑูู ฺฉูฺฺฉ ุง VPATH**: ุชุนู ุฏุงุฑฺฉุชูุฑ ุฌูุช ุฌุณุชุฌู ูุงุจุณุชฺฏโูุง(Dependencies) ู ูุงูโูุง ุชุงุฑฺฏุช

* For example: Search for dependencies and targets from "src" and "include" directories.The directories are separated by space

```shell
VPATH = src include
```

**ูโูพูุช ุจุง ุญุฑูู ุจุฒุฑฺฏ ุง vpath**: ุจุฑุง ุฏูุช ุจุดุชุฑ ูพุฑุงููู ููุน ูุงู ู ูุณุฑ ุฌุณุชุฌู ูุงู

* For example: Search for .c files in "src" directory; .h files in "include" directory, The pattern matching character '%' matches filename without the extension

```
vpath %.c src
vpath %.h include
```

### 6๏ธโฃ๏ธ.Functions

* ููู ุงููุงุน ุฏุงุฏู ุงุฒ ููุน ุฑุดุชู ุงุณุช ู ุนุฏุฏ ูู ุฑุดุชู ูุญุณูุจ ูโุดูุฏ
* ุจุงุนูุงูุช `$(n)` ุจู ุขุฑฺฏููุงูโูุง ุฏุณุชุฑุณ ุงูฺฉุงู ูพุฐุฑ ูโุดูุฏ
* ุฎูุฏ ุชุงุจุน ุฎุฑูุฌ ูุฏุงุฑุฏุ ููุท ฺฉ ุฑุดุชู ุฌุงฺฏุฒู ูโุดูุฏ ุฌุง ฺฉู ูุฑุงุฎูุงู ุดุฏู.

**Create Function Syntax:**

```makefile
define function_name
    # Function body
    # Use $(1), $(2) for parameters
endef
```

```makefile
# Create custome function
say_hello = Hello, $(1)! You are $(2) years old.
```

**Call Function Syntax:**

```makefile
result = $(call myFunctionName argument1,argument2,...)
result = $(call myFunctionName,Ali,25)  # ูุฑุงุฎูุงู ุชุงุจุน ฺฉโุฎุท
$(call myFunctionName,Ali,25) # ูุฑุงุฎูุงู ุชุงุจุน ฺูุฏุฎุท
```

**ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน:**: ุจุฑุง ฺุงูพ ุง ุงุณุชูุงุฏู ุงุฒ ุฎุฑูุฌ ุชุงุจุนุ ุจุงุฏ ุขู ุฑุง ุฏุฑูู ฺฉ ุฏุณุชูุฑ shell ูุฑุงุฑ ุฏูุฏ (ูุซู echo)

### 6.1.BuiltIn Functions

ูุณุช ฺฉุงูู ุชูุงุจุน `GNU Make`

| ูุงู ุชุงุจุน     | ุชูุถุญ ูุงุฑุณ                           | ฺฉุงุฑุจุฑุฏ                                 | ูุญูู ุงุณุชูุงุฏู                           | ูุซุงู                                                              | ุฎุฑูุฌ ูุซุงู                                                      | ูฺฉุชู ููู                                          |
|--------------|---------------------------------------|----------------------------------------|----------------------------------------|-------------------------------------------------------------------|-----------------------------------------------------------------|---------------------------------------------------|
| `subst`      | ุฌุงฺฏุฒู ุฑุดุชู                         | ุฌุงฺฏุฒู ุชูุงู ูููุนโูุง                   | `$(subst from,to,text)`                | `$(subst ee,EE,feet on the street)`                               | `fEEt on thE strEEt`                                            | ุชูุงู ูููุนโูุง ุฌุงฺฏุฒู ูโุดููุฏ.                     |
| `patsubst`   | ุฌุงฺฏุฒู ุงูฺฏู                       | ุฌุงฺฏุฒู ุนูุงุตุฑูุทุงุจู ุงูฺฏู               | `$(patsubst pattern,replacement,text)` | `$(patsubst %.c,%.o,main.c utils.c)`                              | `main.o utils.o`                                                | ุจุฑุง ุชุจุฏู ุงุณู ูุงูโูุง ฺฉุงุฑุจุฑุฏ ุฏุงุฑุฏ.               |
| `filter`     | ููุชุฑ ฺฉุฑุฏู                            | ููุชุฑ ุนูุงุตุฑ ูุทุงุจู ุงูฺฏู                 | `$(filter pattern...,text)`            | `$(filter a% b%,apple banana cherry)`                             | `apple banana`                                                  | ููุท ุนูุงุตุฑ ูุทุงุจู ุจุง ุงูฺฏู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.           |
| `filter-out` | ุญุฐู ุนูุงุตุฑ                             | ุญุฐู ุนูุงุตุฑ ูุทุงุจู                        | `$(filter-out pattern...,text)`        | `$(filter-out a% b%,apple banana cherry)`                         | `cherry`                                                        | ุนูุงุตุฑ ูุทุงุจู ุจุง ุงูฺฏู ุฑุง ุญุฐู ูโฺฉูุฏ.                |
| `addprefix`  | ุงุถุงูู ฺฉุฑุฏู ูพุดููุฏ                     | ุงูุฒูุฏู ูพุดููุฏ ุจูโูููโุนูุงุตุฑ             | `$(addprefix prefix,text)`             | `$(addprefix obj/,a.o b.o)`                                       | `obj/a.o obj/b.o`                                               | ููุงุณุจ ุจุฑุง ูุณุฑูุง build.                         |
| `addsuffix`  | ุงุถุงูู ฺฉุฑุฏู ูพุณููุฏ                      | ุงูุฒูุฏู ูพุณููุฏุจูโูููโุนูุงุตุฑ               | `$(addsuffix suffix,text)`             | `$(addsuffix .c,main utils)`                                      | `main.c utils.c`                                                | ุจุฑุง ุชููุฏ ุงุณู ูุงูโูุง ุงุณุชูุงุฏู ูโุดูุฏ.            |
| `join`       | ุงูุญุงู ุฏู ูุณุช                         | ุงูุญุงู ุฏู ูุณุช ุจู ุตูุฑุช ุนูุตุฑุจูโุนูุตุฑ      | `$(join list1,list2)`                  | `$(join a b c,d e f)`                                             | `ad be cf`                                                      | ุทูู ุฎุฑูุฌ ุจู ฺฉูุชุงูโุชุฑู ูุณุช ุจุณุชฺฏ ุฏุงุฑุฏ.          |
| `wildcard`   | ุงูุชู ูุงู                            | ุงูุชู ูุงูโูุงุจุงุงูฺฏู ูุดุฎุต              | `$(wildcard pattern)`                  | `$(wildcard *.c)`<br>`$(wildcard src/*.c)`                        | `main.c` `utils.c`<br><hr>`src/main.c` `src/sum.c` `src/mine.c` | ุงุฒ ูุงูโูุง ูุงูุน ุฑู ุฏุณฺฉ ุงุณุชูุงุฏู ูโฺฉูุฏ.        |
| `shell`      | ุงุฌุฑุง ุฏุณุชูุฑ shell                     | ุงุฌุฑุง ุฏุณุชูุฑุงุชshellูุจุงุฒฺฏุฑุฏุงูุฏูโุฎุฑูุฌ    | `$(shell command)`                     | `$(shell echo Hello World)`                                       | `Hello World`                                                   | ููฺฉู ุงุณุช ุนููฺฉุฑุฏ `make` ุฑุง ฺฉูุฏ ฺฉูุฏ.                |
| `foreach`    | ุญููู ุฑู ูุณุช                         | ุงุฌุฑุง ฺฉ ุฏุณุชูุฑ ุจุฑุง ูุฑุนูุตุฑ ุงุฒฺฉ ูุณุช   | `$(foreach var,list,text)`             | `$(foreach x,$(list),$(x)_done )`                                 | `a_done b_done c_done`                                          | ุจุฑุง ุชููุฏ ูุณุชโูุง ูพูุง ฺฉุงุฑุจุฑุฏ ุฏุงุฑุฏ.             |
| `origin`     | ุชุนุฑู ูุชุบุฑ ุฏุฑฺฉุฌุง<br>ุณูุฑุณโูุชุบุฑ ฺฉุฌุงุณุช | ุชุดุฎุตsourceฺฉโูุชุบุฑ                    | `$(origin variable)`                   | `$(origin CC)`<hr>bash:`make CFLAGS=-Wall`<hr>makefile:`CC = gcc` | default<hr>CommandLine<hr>Makefile                              | ุจุฑุง ุจุฑุฑุณ ูุถุนุช ูุชุบุฑูุง ุณุณุชู.                 |
| `error`      | ุงุฌุงุฏ ุฎุทุง                             | ูุชููู ฺฉุฑุฏู`make`ุจุง ฺฉ ูพุงู ุฎุทุง         | `$(error message)`                     | `$(error This is an error message)`                               | `Makefile:xx: *** This is an error message. Stop.`              | ุจุฑุง ุงุนุชุจุงุฑุณูุฌ ุดุฑุงุท ุถุฑูุฑ.                      |
| `warning`    | ููุงุด ูุดุฏุงุฑ                           | ููุงุด ฺฉ ูุดุฏุงุฑ ูู ุงุฏุงูู ุงุฌุฑุง`make`   | `$(warning message)`                   | `$(warning This is a warning)`                                    | `Makefile:xx: This is a warning`                                | ุจุฑุง ุงุฎุทุงุฑูุง ุบุฑูุฑฺฏุจุงุฑ.                          |
| `value`      | ููุฏุงุฑ ุจุฏูู expand                     | ุจุงุฒฺฏุฑุฏุงูุฏู ููุฏุงุฑ ฺฉ ูุชุบุฑุจุฏููxpandฺฉุฑุฏู | `$(value variable)`                    | `$(value VAR)`                                                    | `$(CC)`                                                         | ููุช ูโุฎูุงูุฏ ููุฏุงุฑ raw ุจฺฏุฑุฏ.                  |
| `eval`       | ุงุฑุฒุงุจ ุฏุณุชูุฑุงุช                       | ุงุฑุฒุงุจ ุฏุณุชูุฑุงุชMakefileุฏุฑ ุฒูุงู ุงุฌุฑุง    | `$(eval text)`                         | `$(eval $(call build-target,app))`                                | -                                                               | ุจุฑุง ุชุนุฑู ูพูุง ุงุฒ ููโุชุฑู ุชูุงุจุน ุงุณุช.            |
| `if`         | ุดุฑุทโฺฏุฐุงุฑ                             | ุงุฌุฑุง ุดุฑุท ุจุฎุด ุงุฒ ฺฉุฏ                  | `$(if condition,then-part,else-part)`  | `$(if $(CC),@echo Using $(CC),@echo NocompilerFound)`             | `UsingCompiler gcc`                                             | ุดุฑุทโูุง ุณุงุฏู ู ฺฉุงุฑุจุฑุฏ.                           |
| `call`       | ูุฑุงุฎูุงู ุชุงุจุน                         | ูุฑุงุฎูุงู ุชูุงุจุน ุดุฎุต ุจุง ุขุฑฺฏููุงูโูุง      | `$(call function,arg1,arg2,...)`       | `$(call myfunc,Hello,World)`                                      | `First: Hello, Second: World`                                   | ูพุงู ุชูุงุจุน ฺฉุงุฑุจุฑ ุฏุฑ Makefile.                    |
| `dir`        | ุงุณุชุฎุฑุงุฌ ูุณุฑ                          | ุงุณุชุฎุฑุงุฌ ูุณุฑูพูุดู ุงุฒ ฺฉ ูุณุฑ ูุงู       | `$(dir path)`                          | `$(dir /home/user/file.txt)`                                      | `/home/user/`                                                   | ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ูุณุฑ ูุงู.                          |
| `notdir`     | ุงุณุชุฎุฑุงุฌ ุงุณู ูุงู                      | ุงุณุชุฎุฑุงุฌ ููุท ุงุณู ูุงู ุงุฒฺฉ ูุณุฑ         | `$(notdir path)`                       | `$(notdir /home/user/file.txt)`                                   | `file.txt`                                                      | ููุท ุงุณู ูุงู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.                      |
| `basename`   | ุญุฐู ูพุณููุฏ                             | ุญุฐู ูพุณููุฏูุงู                          | `$(basename path)`                     | `$(basename file.txt)`                                            | `file`                                                          | ุงฺฏุฑูพุณููุฏูุฌูุฏูุฏุงุดุชูโุจุงุดุฏุููุงูโูุฑูุฏโุฑุงุจุฑูโฺฏุฑุฏุงูุฏ. |
| `suffix`     | ฺฏุฑูุชู ูพุณููุฏ                           | ุจุงุฒฺฏุฑุฏุงูุฏู ูพุณููุฏ ูุงู                  | `$(suffix path)`                       | `$(suffix file.txt)`                                              | `.txt`                                                          | ุงฺฏุฑ ูพุณููุฏ ูุจุงุดุฏุ ุฎุงู ุจุฑูโฺฏุฑุฏุงูุฏ.                |
| `firstword`  | ุงููู ฺฉููู                            | ุจุงุฒฺฏุฑุฏุงูุฏู ุงููู ฺฉููู ุงุฒฺฉ ูุณุช        | `$(firstword word1 word2 ...)`         | `$(firstword one two three)`                                      | `one`                                                           | ููุท ุงููู ฺฉููู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.                    |
| `lastword`   | ุขุฎุฑู ฺฉููู                            | ุจุงุฒฺฏุฑุฏุงูุฏู ุขุฎุฑู ฺฉููู ุงุฒฺฉ ูุณุช        | `$(lastword word1 word2 ...)`          | `$(lastword one two three)`                                       | `three`                                                         | ููุท ุขุฎุฑู ฺฉููู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.                    |
| `words`      | ุดูุงุฑุด ฺฉููุงุช                           | ุดูุงุฑุด ุชุนุฏุงุฏ ฺฉููุงุช ุฏุฑฺฉ ูุณุช            | `$(words text)`                        | `$(words one two three)`                                          | `3`                                                             | ุจุฑุง ุงุนุชุจุงุฑุณูุฌ ุชุนุฏุงุฏ ูุฑูุฏโูุง.                   |
| `word`       | ฺฏุฑูุชู ฺฉููู nุงู                        | ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉูููnุงู ุงุฒฺฉ ูุณุช           | `$(word n,text)`                       | `$(word 2,one two three)`                                         | `two`                                                           | ุดูุงุฑู ฺฉููู ุงุฒ ฑ ุดุฑูุน ูโุดูุฏ.                      |

### 6.2.Conditional Functions

**$(if condition,then-part,else-part)****

```makefile
RESULT = $(if $(CONDITION), "True", "False")
```

**Example:**

```makefile
LOG_LEVEL = verbose
LOG = $(if $(filter verbose,$(LOG_LEVEL)), @echo "Debug: $1", @true)
```

### 6.3.Examples:

**Example1๏ธโฃ๏ธ: Simple Function**

```makefile
# Define a function
define greet
    @echo "Hello, $(1)!"
endef

# Call the function
all:
    $(call greet,World)
```

---
**Example2๏ธโฃ๏ธ: Simple Function**

```makefile
# Create custome function
say_hello = Hello, $(1)! You are $(2) years old.

# call function with two args
message := $(call say_hello,Ali,25) 

#target goal is show message
test:
    @echo "$(message)"
```

```shell
make test
# output:
         Hello, Ali! You are 25 years old.
```

* ูุณูุช `say_hello = ...` : ุชุนุฑู ฺฉ ุชุงุจุน ุดุฎุต
* ูุณูุช `$(1)` ู `$(2)` : ุงููู ู ุฏููู ุขุฑฺฏููุงู ูุณุชูุฏ ฺฉู ุจู ุชุงุจุน ูโุฏูู.
* ูุณูุช `$(call say_hello,Ali,25)` : ูุญูู ูุฑุงุฎูุงู ุชุงุจุน ุจุง ุฏู ุขุฑฺฏููุงู.
* ูุณูุช `message := ...` : ูุชุบุฑ message ุฑุง ุจุง ูุชุฌู ูุฑุงุฎูุงู ุชุงุจุน ููุฏุงุฑุฏู ูโฺฉูู.
* ุฏุฑ ูุฏู testุ ูุญุชูุง ูุชุบุฑ message ฺุงูพ ูโุดูุฏ.

---
**Example3๏ธโฃ๏ธ: Function with Multiple Parameters**

```makefile
define create_file
    @echo "Creating $(1)..." # ูพุงู ุงุฌุงุฏ ูุงู ุฑุง ฺุงูพ ูโฺฉูุฏ
    @touch $(1) # ูุงู ุจุง ุงุณู ุฏุงุฏูโุดุฏู ุงุฌุงุฏ ูโฺฉูุฏ (ุงฺฏุฑ ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ)
    @echo "Contents: $(2)" > $(1) # ูุญุชูุง ุฑุง ุฏุฑูู ูุงู ูโููุณุฏ
endef

all:
    $(call create_file,example.txt,This is some text) # ูุฑุงุฎูุงู ุชุงุจุน ุจู ููุฑุงู ุฏู ุขุฑฺฏููุงู ูุฑูุฏ ุขู
```

ุฎุฑูุฌ: ููุช ุฏุณุชูุฑ `make` ุฑุง ุจุฒูู ุฎุฑูุฌ 'Creating example.txt...' ฺุงูพ ูโุดูุฏ ู ููฺูู ูุงู `example.txt` ุจุง ูุญุชู 'Contents: This is some text' ูุฒ ุงุฌุงุฏ ูโุดูุฏ

---
**Example4๏ธโฃ๏ธ:  Function Returning a Value**

```makefile
define get_filename # finctionName is 'get_filename'
    $(notdir $(1)) # notdir is BuiltIn function that give Filename of PATH in fullFileName
endef

all:
    @echo "Filename is: $(call get_filename,/path/to/file.txt)"
```

ุฎุฑูุฌ: ููุช ุฏุณุชูุฑ `make` ุฑุง ุจุฒูู ุฎุฑูุฌ 'Filename is: file.txt' ฺุงูพ ูโุดูุฏ
ูฺฉุชู: ุชุงุจุน notdir ุงุณู ูุงู ุฑุง ุงุฒ ูุณุฑ ูุงู ุฎุงุฑฺ ูโฺฉูุฏ
---
**Example5๏ธโฃ๏ธ: Using Built-in Functions Inside Custom Functions**

ุงู ุชุงุจุน ูุณุช ุงุฒ ูุงูโูุง ุฑุง ูฺฏุฑุฏ ู ุงุณู ุขู ุฑุง ฺุงูพ ูโฺฉูุฏ ู ฺฉ ุจฺฉโุขูพ ุงุฒ ุขู ุจุง ูพุดููุฏ ุขูุฏุฑูุงู ุจฺฉโุขูพ ูโฺฏุฑุฏ

```makefile
define process_files
    $(foreach file,$(1),\
        @echo "Processing $(file)";\
        cp $(file) $(addprefix backup_,$(notdir $(file)));\
    )
endef

all:
    $(call process_files,file1.txt file2.txt file3.txt)
```

---
**Advanced Example6๏ธโฃ๏ธ: Conditional Logic in Functions**

ุชุดุฎุต ุฏูุฏ ูุงู ุฏุงุฏูโุดุฏู ฺฉ ูุงู .c (ุฒุจุงู C) ุงุณุช ุง ุฎุฑ. ุงฺฏุฑ ูุงู .c ุจุงุดุฏุ ุขู ุฑุง ุจุง gcc ฺฉุงููพุงู ูโฺฉูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ูพุงู ุฏุฑุจุงุฑู ููุน ูุงุดูุงุฎุชู ูุงู ฺุงูพ ูโฺฉูุฏ.

```makefile
define compile
    $(if $(filter %.c,$(1)),\
        @echo "Compiling C file: $(1)";\
        gcc -c $(1),\
        @echo "Unknown file type: $(1)"\
    )
endef

all:
    $(call compile,source.c)
    $(call compile,source.cpp)
```

* ุชุงุจุน filter ุชูุงู ุนูุงุตุฑ ุงุฒ $(1) ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ุจุงุงูฺฏู %.c ูุทุงุจูุช ุฏุงุดุชู ุจุงุดูุฏ.

## 7๏ธโฃ๏ธ.Conditions

### โ๏ธ feq | ifneq

Equality Conditions

```makefile
ifeq ($(VARIABLE), value)
    # Code to execute if equal
else
    # Code to execute if not equal
endif

ifneq ($(VARIABLE), value)
    # Code to execute if not equal
endif
```

**Example:**

```makefile
DEBUG = 1

ifeq ($(DEBUG), 1)
    CFLAGS = -g -O0
else
    CFLAGS = -O2
endif
```

### โ๏ธ ifdef | ifndef

Variable Definition Checks

```makefile
ifdef VARIABLE
    # Code if variable is defined
endif

ifndef VARIABLE
    # Code if variable is not defined
endif
```

**Example:**

```makefile
ifdef USE_CLANG
    CC = clang
else
    CC = gcc
endif
```

### โ๏ธ Pattern Matching

**$(filter pattern...,text)**

```makefile
SOURCES = main.c util.c helper.cpp

%.o: %.c
    $(if $(filter %.c,$<), \
        $(CC) -c $< -o $@, \
        @echo "Skipping non-C file: $<")
```

### โ๏ธ Conditional Variable Assignment

* = โ Immediate value Assignment
    * ุงุฒ = ููุช ูุงุฒ ุฏุงุฑุฏ ูุชุบุฑูุง ุฏูุงูฺฉ ุจุงุดูุฏ
* ?= โ Assign only if not already set
    * ููุท ุงฺฏุฑ ูุชุบุฑ ูุจูุงู ุชุนุฑู ูุดุฏู ุจุงุดุฏ ููุฏุงุฑุฏู ูโฺฉูุฏ
    * ฺฉุงุฑุจุฑุฏ: ุจุฑุง ุชูุธู ููุงุฏุฑ ูพุดโูุฑุถ
    * ุชูุฌู: ุงฺฏุฑ ูุชุบุฑ ุฎุงู ุจุงุดุฏ ุจุงุฒ ูู ููุฏุงุฑุฏู ูโฺฉูุฏ
    * PREFIX ?= /usr/local # ุงฺฏุฑ ฺฉุงุฑุจุฑ ูพุฑูฺฉุณ ุฑุง ุชูุธู ูฺฉุฑุฏู ุจุงุดุฏ
    * ุงุฒ ?= ุจุฑุง ููุงุฏุฑ ูพุดโูุฑุถ ุงุณุชูุงุฏู ฺฉูุฏ
* += โ Append conditionally
    * ููุฏุงุฑ ุฌุฏุฏ ุฑุง ุจู ุงูุชูุง ููุฏุงุฑ ููุฌูุฏ ุงุถุงูู ูโฺฉูุฏ
    * ุงุฒ += ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ุจู ููุงุฏุฑ ููุฌูุฏ ุจุง ุชูุฌู ุจู ููุน ุชุนุฑู ุงููู
* := โ Evaluates the right-hand side immediately (only once)
    * NOW := $(shell date)  # ุชุงุฑุฎ ููุท ฺฉุจุงุฑ ููฺฏุงู ุฎูุงูุฏู ยซูฺฉโูุงูยป ฺฏุฑูุชู ูโุดูุฏ
    * FILE_LIST := $(wildcard *.c)  # ูุณุช ูุงูโูุง ฺฉุจุงุฑ ุงุฌุงุฏ ูโุดูุฏ
    * ุงุฒ := ุจุฑุง ููุงุฏุฑ ุซุงุจุช ู ุฏุณุชูุฑุงุช ุณูฺฏู ุงุณุชูุงุฏู ฺฉูุฏ
* != โ ShellCommand output
    * ุฑูุชุงุฑ: ุฎุฑูุฌ ุฏุณุชูุฑ shell ุฑุง ุฏุฑ ูุชุบุฑ ุฐุฎุฑู ูโฺฉูุฏ
    * available after GNU Make 3.82
    * ุฌุงฺฏุฒู: ูโุชูุงู ุงุฒ `$(shell ...)` ุจุง := ุงุณุชูุงุฏู ฺฉุฑุฏ
        * $(shell ...)
    * ุงุฒ != ุจุฑุง ุณุงุฏูโููุณ ุฏุณุชูุฑุงุช shell ุงุณุชูุงุฏู ฺฉูุฏ (ุงฺฏุฑ ูุณุฎู Make ูพุดุชุจุงู ูโฺฉูุฏ)

ุฏู ุจุฎุด ุฒุฑ ูุนุงุฏู ูุณุชูุฏ

```makefile
GIT_HASH != git rev-parse --short HEAD  # ูุนุงุฏู:
GIT_HASH := $(shell git rev-parse --short HEAD)
```

## 8๏ธโฃ๏ธ.Examples

### 1๏ธโฃ๏ธ.Hello World

```shell
// hello.c
#include <stdio.h>
int main() {
    printf("Hello, world!\n");
    return 0;
}


//makefile
all: hello.exe
hello.exe: hello.o
	 gcc -o hello.exe hello.o
hello.o: hello.c
	 gcc -c hello.c
clean:
	 rm hello.o hello.exe
```

**ุชูุถุญุงุช**

* ูุงู makeFile ุฑุง ุจุงุฏ ุฏุฑ ูุณุฑ ุฌุงุฑ ูพุฑูฺู ูุฑุงุฑ ุฏูู
* ุจุฎุด all ุจุตูุฑุช ูพุดโูุฑุถ ุงุฌุฑุง ูโุดูุฏ
* ุงฺฏุฑ ูพุณ ุงุฒ ุงุฌุฑุง ุฏุณุชูุฑ ALL ูุฌุฏุฏ ุงู ุฏุณุชูุฑ ุฑุง ุงุฌุฑุง ููุงู ุจุง ุฏุณุชูุฑ ุฒุฑ ููุงุฌู ูโุดูู
    * `make: Nothing to be done for 'all'`
* ุชุฑุชุจ ุงุฌุฑุง ุฎุท ุจู ุฎุท
    * ุงุจุชุฏุง ุณุฑุงุบ ุชุงุฑฺฏุช `all` ุฑูุชู ู ุฏุฑูุงุจุฏ ฺฉู ูพุดโูุงุฒ ุขู `hello.exe` ุงุณุช
    * ูุฑูุฏ ุณุฑุงุบ ุชุงุฑฺฏุช `hello.exe` ู ูุดุงูุฏู ูฺฉูุฏ ฺฉู ูพุด ูุงุฒ ุขู ูุงู `hello.o` ุงุณุช
    * ูุฑูุฏ ุณุฑุงุบ ุชุงุฑฺฏุช `hello.o` ู ูุดุงูุฏู ูฺฉูุฏ ฺฉู ูพุดโูุงุฒ ุขู ูุงู hello.c ุงุณุช ฺฉู ูุชูุฌู ูโุดูุฏ ฺฉู ุงู ูุงู ุฏุฑ ูุณุฑ ุฌุงุฑ ูุฌูุฏ ุฏุงุฑุฏ
    * ุฏุฑ ุงุฏุงูู ุงู ูุงู ุฑุง ูุฎูุงูุฏ
    * ุฏุฑ ุงุฏุงูู ุฏุณุชูุฑุงุช ุงู ุชุงุฑฺฏุช(ฺฉู ูุงู ูพุดโูุงุฒ ุขู ุฑุง ูพุฏุง ฺฉุฑุฏู ุงุณุช ุนู ุฏุณุชูุฑุงุช ุชุงุฑฺฏุช `hello.o`) ุฑุง ุงุฌุฑุง ูฺฉูุฏ ุนู ุฏุณุชูุฑ ุฒุฑ
    ```shell
    gcc -c hello.c
    ```
    * ุญุงู ฺฉู ุจุงุฏุณุชูุฑ ุจุงูุง ูุงู `hello.o` ุงุฌุงุฏ ุดุฏ ุฏุฑ ุงุฏุงูู ุฏุณุชูุฑ ุชุงุฑฺฏุช hello.exe ุฑุง ุงุฌุฑุง ูฺฉูุฏ ุนู ุฏุณุชูุฑ ุฒุฑ
    ```shell
    `gcc -o hello.exe hello.o`
    ```

### 2๏ธโฃ๏ธ.makefile sample

```makefile
CC      = gcc
CFLAGS  = -Wall -Wextra -g
CPPFLAGS= -Iinclude
LDFLAGS =
LDLIBS  = -lm

SRCS    = main.c utils.c
OBJS    = $(SRCS:.c=.o)
TARGET  = myprogram

all: $(TARGET)

$(TARGET): $(OBJS)
    $(CC) $(LDFLAGS) $(OBJS) -o $@ $(LDLIBS)

%.o: %.c
    $(CC) $(CFLAGS) $(CPPFLAGS) -c $< -o $@

clean:
    rm -f $(OBJS) $(TARGET)
```

ุชูุถุญ ฺฉูุชุงู ุจุฑุฎ ูุณูุชโูุง:

* ููุฑุฏ $(CC) ู $(CFLAGS) ู ุบุฑู: ูุชุบุฑูุง ุฑุง ูุฑุงุฎูุงู ูโฺฉููุฏ.
* ููุฑุฏ $(SRCS:.c=.o): ุชูุงู .cูุง ุฑุง ุจู .o ุชุจุฏู ูโฺฉูุฏ (ูุงููุฏ main.c โ main.o).
* ููุฑุฏ $@: ุงุณู ูุฏู (target) ูุนู ุงุณุช (ูุงููุฏ myprogram).
* ููุฑุฏ $<: ุงููู ูุงุจุณุชฺฏ (dependency) ุงุณุช (ูุงููุฏ main.c ุฏุฑ ุญู ฺฉุงููพุงู main.o).

# ๐ฐ๏ธ Kernel

* ฺฉุฑูู ุฏุฑ ูุณุฑ /boot ูุฑุงุฑ ุฏุงุฑุฏ
* ูุฑููุช ูโฺฏูู vmlinuz ุนู ูุงู ูุดุฑุฏู ุดุฏู
* ูพุณููุฏ ko ูุงฺููโูุง ฺฉุฑูู ูโุจุงุดูุฏ(*.ko)

## ๐ฑ๏ธ ุณูุงุฑู ฺฉุงููพุงู ฺฉุฑูู

```shell
#download
02-make config #ุชููุฏ ูุงู ฺฉุงููฺฏ ฺฉู ูุงู config. ุฎุฑูุฌ ุฎูุงูุฏ ุจูุฏ
03-make defconfig #ุงฺฏุฑ ุจุฌุง ุฏุณุชูุฑ 2 ุงุฒ ุฏุณุชูุฑ3 ุงุณุชูุงุฏู ุดูุฏ ุขูฺฏุงู ุชูุงู ุณูุงูโูุง ุฑุง ฺฉู ุฏุฑ ุฏุณุชูุฑ 2ูโุฎูุงุณุช ุจูพุฑุณุฏ ุฑุง ููุฏุงุฑ ุฏูุงูุช ุฏุฑูุธุฑ ุฎูุงูุฏ ฺฏุฑูุช
04-vi .config #ูุดุงูุฏู ุชูุธูุงุช ฺฉุฑูู ุฌุฏุฏ ุจุง ุฏุณุชูุฑ3
05-make #ฺฉุงููพุงูถ-ฺฉุงููพุงู ูุงฺููโูุงท-ูุฑุงุฑุฏุงุฏู ูุงฺููโูุง ฺฉุงููพุงู ุดุฏู ุฏุฑ ูุณุฑ ููุฑุฏ ูุธุฑ
06-make modules
07-make modules_install
08-make install #ูุตุจ ฺฉุฑูู ฺฉุงููพุงู ุดุฏู
#09-ุชูุงู ฺฉุงุฑูุง ฺฉู ูุฑุงุฑ ุงุณุช ุงูุฌุงู ุดูุฏ ููู ุงุณุช ฺฉู ุฏุณุชูุฑ ธ ุฎูุฏุด initramdisk ุฑุง ูู ูโุณุงุฒุฏ ูู ุงฺฏุฑ ุจุฎูุงูู ุฎูุฏูุงู ฺฉุงุฑ ุณุงุฎุช initrd ุฑุง ุงูุฌุงู ุฏูู ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ูฺฉูู
10-debian: mkinitramfs -o /boot/initrd.img-4.14..... #ุงุฌุงุฏ initrd
10-redhat: mkinitrd -o /boot/initrd.img-4.14.....
11-grub-mkconfig > /boot/grub/grub.cfg #ุขูพุฏุช ฺฉุฑุฏู ฺฏุฑุงุจ
```


# ๐ฐ๏ธ BOOT

* FromNetwork
    * ุงุจุชุฏุง ุจุงุฏ ุฏุฑ ุจุงูุณ ฺฏุฒูู pxe ุฑุง ูุนุงู ูููุฏู ุณูพุณ ุชูุณุท DHCP ุดุจฺฉู ุงุฎุฐ ุขโูพ ุตูุฑุช ฺฏุฑูุชู ู ุณูพุณ ุงุฒ ฺฉ ุงูุฌ ุณุฑูุฑ ุฑุง ุจูุช ฺฉูู(ุชูุณุท ุงุฒู winpe ฺฉู ฺฉุงุฑุด ุจุงูุง ู ูุตุจ ููุฏูุฒ ุงุณุช)
* USB-Ventory
    * [download](https://www.ventoy.net/en/download.html)
    * `tar -xvzf ventoy-*.tar.gz`
    * `cd ventoy-*`
    * `sudo fdisk -l` ุง `lsblk`
    * `sudo ./Ventoy2Disk.sh -i /dev/sdX`
* ูพุณ ุงุฒ ุฑูุดู ุดุฏู ฺฉุงููพูุชุฑุ BIOS ุง UEFI (ุฏุฑ ุณุณุชูโูุง ุฌุฏุฏุชุฑ) ุจู ุฏูุจุงู ุจูุช ููุฏุฑ ุฏุฑ ุฏุณฺฉ ูโฺฏุฑุฏุฏ. ุจูุช ููุฏุฑ ุณูพุณ ูุณุชู ุณุณุชูโุนุงูู ุฑุง ุจุงุฑฺฏุฐุงุฑ ูโฺฉูุฏ ู ุจู ุขู ฺฉูุชุฑู ูโุฏูุฏ.

## ๐ฑ๏ธ UEFI(Unified Extensible Firmware Interface)

* UEFI
    * ุชฺฉููููฺ ฺฉู ุจุชูุงูุฏ ุงุฒ ูุฑฺฉุฌุง ูุงุฑุฏ ุจูุช ููุงุฏ.
    * ูุงุจูุช ููุฏ ูุณุชูู ฺฉุฑูู ุจุฏูู ุจูุชโููุฏุฑ[ุนู ุจู ฺฉุจุงุฑู ฺฉู ุณุณุชู ุนุงูู ุฑุง ุจุฏูู ููุด ุจูุช ููุฏุฑ ุ ุจูุช ููุงุฏ]
    * ูพุดุชุจุงู ุงุฒ ุจูุชโููุฏุฑ
    * `/boot/efi` : Directory of UEFI
* ESP ุง Efi System Partition: ูพุงุฑุชุดู ุงุณุชูุงุฏู ุดููุฏู ุฏุฑ ุชฺฉููููฺ UEFI ฺฉู ูุนูููุง FAT ุงุณุช ู ุจุฑุง ุงูฺฉู ุจุชูุงูุฏ ฺฉุฑูู ุง ุจูุช ููุฏุฑ ุฑุง ูุฑุงุฎูุงู ููุงุฏ
    * ุงุฒ ูุณุฎู ฺฉุฑูู 3.3.0 ุจู ุจุนุฏ ูุงุจูุช ุจูุช ุดุฏู ุชูุณุท UEFI ูุฑุงุฑ ุฏุงุฏู ุดุฏ ูู ุงุณุชูุงุฏู ููโุดูุฏ ู ุชุฑุฌุญ ุจุฑ ูุฑุงุฑ ุฏุงุฏู ฺฏุฑุงุจ ุฏุฑ UEFI ุงุณุช ุชุง ฺฏุฑุงุจ ูุฏุฑุช ฺูุฏู ุณุณุชู ุนุงูู ุฑุง ุงูุฌุงู ุฏูุฏ

## ๐ฑ๏ธ RamDisk

* initrd(initial ramdisk)
* ูุถุง ุฑู ฺฉู ุจุนููุงู ฺฉ ุฏุณฺฉ ูููุช ุดูุงุฎุชู ูโุดูุฏ
* ูุงูโูุง ููุฏูุงุช ฺฉู ุจุฑุง ุจุงูุง ุขูุฏู ฺฉุฑูู ูุงุฒ ุฏุงุฑุฏ ุฏุฑูู ุขู ูุฑุงุฑ ูโฺฏุฑุฏ. ูุซู: ฑ-ุฎูุงูุฏู ุฏุฑุงูุฑ ุฏุณฺฉ ฺฉู ุงุฒ ุขูุฌุง ูโุฎูุงูุฏ
* ููุงุญุธุงุช ุจุงูุง ุขูุฏู ฺฉุฑูู ูุธุฑ firmware ู ุบุฑู ุฑุง handle ูโููุงุฏ.
* ูุฑ image ฺฉุฑูู ฺฉ initrd ุจุฑุง ุฎูุฏุด ุฏุงุฑุฏ

```
cat /boot/grub/grub.cfg
menuentry 'Debian GNU/Linux, with Linux 4.19.0-16-amd64......'{....
initrd /boot/initrd.img-4.19.0-16-amd64
}
```

## ๐ฑ๏ธ SecureBoot

* ููุท ุณุณุชูโุนุงููโูุง sign ุดุฏู ูุงุจูุช ุจุงูุง ุขูุฏู ุฏุงุดุชู ุจุงุดูุฏ ู ูุฑูุณโูุง ูุชูุงููุฏ ุจูุช ุดููุฏ
* ููุฏูุฒ ฺูู ุซุงุจุช ุงุณุช sign ุฏุงุฑุฏ ุงูุง ฺฉุฑูู ูููฺฉุณ ูุชุบุฑ ุงุณุช ูพุณ ฺฉ miniBootLoader ุณุงุฎุชู ุดุฏู ฺฉู sign ุงุณุช
* ุจู secureBoot ูฺฏูู MiniBootLoader ุฑุง ุจูุช ฺฉู ู ุณูพุณ ุขููุง ูููฺฉุณ ุฑุง ุจูุช ุฎูุงููุฏ ฺฉุฑุฏ

![boot-bootseq1.jpg](./_srcFiles/Images/boot-bootseq1.jpg "boot-bootseq1.jpg")

# ๐ฐ๏ธ GRUB(Grand Unified Bootloader)

* BootLoader: ุจูุช ููุฏุฑ ูุณุฆูู ุจุงุฑฺฏุฐุงุฑ ูุณุชู ุณุณุชูโุนุงูู (Kernel) ุจู ุญุงูุธู ู ุงูุชูุงู ฺฉูุชุฑู ุจู ุขู ุงุณุช. ุงู ุจุฑูุงูู ูุนูููุงู ุฏุฑ ุงููู ูุฑุญูู ุงุฒ ูุฑุขูุฏ ุจูุช ุงุฌุฑุง ูโุดูุฏ.
    * ุฏุฑ ุณุณุชูโูุง ุจุง ุฌุฏูู ูพุงุฑุชุดู GPTุ ุจูุช ููุฏุฑ ูุนูููุงู ุฏุฑ ูพุงุฑุชุดู EFI (ุฏุฑ ุณุณุชูโูุง UEFI) ุง ุฏุฑ ูพุงุฑุชุดู ุฎุงุต ฺฉู ุจุฑุง ุจุงุฑฺฏุฐุงุฑ ุณุณุชูโุนุงูู ุงุฎุชุตุงุต ุฏุงุฏู ุดุฏู ุงุณุชุ ุฐุฎุฑู ูโุดูุฏ.
    * ุจูุช ููุฏุฑ ุจู ุฌุฏูู ูพุงุฑุชุดู ูุฑุงุฌุนู ูโฺฉูุฏ ุชุง ุจูููุฏ ฺฉุฏุงู ูพุงุฑุชุดู ุญุงู ุณุณุชูโุนุงูู ุงุณุช. ุงู ุงุทูุงุนุงุช ุจู ุจูุช ููุฏุฑ ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุจู ุฏุฑุณุช ูพุงุฑุชุดู ุฑุง ุดูุงุณุง ู ุจุงุฑฺฏุฐุงุฑ ฺฉูุฏ.
    * ฺฏุฑุงุจ ฺฉ ุงุฒ ูุญุจูุจโุชุฑู ู ูุฏุฑุชููุฏุชุฑู ุจูุช ููุฏุฑูุง ุฏุฑ ุณุณุชูโุนุงููโูุง ูููฺฉุณ ุงุณุช.
    * MiniBootLoader:
        1. shim(create for fedora)
        2. preLoader(create by LinuxFoundation)
* recoveryMode: ููุงู ุญุงูุช singleMode ุงุณุช
    * ุจุฑุง ุจุงูุง ุขูุฏู ุณุณุชู ุฏุฑ ูุถุนุช single Mode: ุจุฌุง ุนุฏุฏ ฑ ุฏุฑ ุขุฎุฑ ุฎุท ุดุฑูุน ุดููุฏู ุจุง vmlinuz ูโุชูุงูู ุงุฒ ฺฉููู single ูุฒ ุงุณุชูุงุฏู ููุงู


* URLs
    * [URL](https://www.linux.com/training-tutorials/how-rescue-non-booting-grub-2-linux)
    * [URL](https://askubuntu.com/questions/232215/stuck-in-grub-rescue-mode)
    * [URL](https://www.gnu.org/software/grub/manual/grub/grub.html)
    * [URL](https://www.gnu.org/software/grub/manual/grub/grub.html)
    * [URL](https://unix.stackexchange.com/questions/329926/grub-starts-in-command-line-after-reboot)
    * [URL](https://www.cyberciti.biz/faq/linux-how-to-uninstall-grub)
    * [URL](https://www.gnu.org/software/grub/manual/grub/grub.html#linux)
    * [URL](https://www.gnu.org/software/grub/manual/grub/html_node/Invoking-grub_002dinstall.html#Invoking-grub_002dinstall)
    * [URL](https://www.gnu.org/software/grub/manual/grub/html_node/Installing-GRUB-using-grub_002dinstall.html)

```
rootnoverify (hd0,0) #ุจุฑูุฑ ุงุฒ ูพุงุฑุชุดู ุงูู ูุงุฑุฏ ุงูู ุจูุช ฺฉู ู ฺฉุงุฑ ูุฏุงุดุชู ุจุงุด ฺฉู ฺู ููุงุญุธุงุช ุฏุงุฑุฏ

/boot/grub/grub.cfg #config file
/etc/grub # Common variables and configuration who ussing in grub.cfg

grub-install /dev/sda # ูุตุจ ฺฏุฑุงุจ ุฏุฑ ฺฉ ูุงุฑุฏ
grub-mkconfig # probe all over hard and write find OS on output
grub-mkconfig > /boot/grub/grub.cfg # # probe all over hard and write find OS on /boot/grub/grub.cfg
grub2-mkconfig -o /boot/grub2/grub.cfg
```

## ๐ฑ๏ธ Get Bash

```shell
press e
linux /boot/vmlinuz-4.8.0 root=/dev/sda7 ro init=/bin/bash
ctrl+x
su root
mount -rw -o remount /
```

## ๐ฑ๏ธ change Background

```shell
sudo vim /etc/default/grub
GRUB_BACKGROUND="~/Pictures/grass.png"
sudo update-grub
sudo grub-mkconfig > /boot/grub/grub.cfg
```

## ๐ฑ๏ธ PasswordProtected

1. generate password hash
2. Define GRUB user (milosz in the following example) using generated hash and declare it as a superuser inside /etc/grub.d/40_custom configuration file.
3. Install modified configuration and test it afterward

```shell
#1)
grub-mkpasswd-pbkdf2
Enter password: ********
Reenter password: ********
PBKDF2 hash of your password is grub.pbkdf2.sha512.10000.800E[..].79C[..]

#2)
 #!/bin/sh
exec tail -n +3 $0
# This file provides an easy way to add custom menu entries. Simply type the
# menu entries you want to add after this comment. Be careful not to change
# the 'exec tail' line above.
# define superusers
set superusers="milosz"
#define users
password_pbkdf2 milosz grub.pbkdf2.sha512.10000.800EF[..].7977C[..]

#3)
sudo grup-update
```

# ๐ฐ๏ธ Commands

## ๐ฑ๏ธ dd

### โ๏ธ Switchs

* if: Input File
    * if=IMAGE.img
* of: Output File
    * of=/dev/sdc
* bs: BlockSize ุชุนุฏุงุฏ ุจุงุช ูุง ุงุณุช ฺฉู ุฏุฑ ฺฉ ุฒูุงู ุฎูุงูุฏู ุง ููุดุชู ู ุดูุฏ
    * ูุทูู ุดู ฺฉู ุงูุฏุงุฒู ุจููฺฉ ูุถุฑุจ ุงุฒ ฑฐฒด ฺฉู ุจุฑุงุจุฑ ุจุง ฑ ฺฉููุจุงุช ุงุณุช ุงุณุชูุงุฏู ุดูุฏ.
    * bs=1M
    * bs=1K
* status:
    * progress:โุงุทูุงุน ุงุฒ ูุฒุงู ูพุดุฑูุช
* conv:ุฑูุด ุชุจุฏู ูุงู ูุฑูุฏ ู ููุดุชู ุฑู ุฏุณฺฉ ููุตุฏ ฺฺฏููู ุงุณุช
    * noerror: ฺฉูพ ฺฉุฑุฏู ุฏุงุฏู ูุง ุฏุฑ ุตูุฑุช ุจุฑุฎูุฑุฏ ุจู ูุฑ ฺฏููู ุฎุทุง ุงุฏุงูู ุงุจุฏ
    * sync: ุงุณุชูุงุฏู ุงุฒ ููฺฏุงูโุณุงุฒ ุจู ูุฑูุฏ ู ุฎุฑูุฌ
    * fdatasync: ุจุงูุฑ ุจู ุฏุฑุณุช ูพุงฺฉุณุงุฒ ู ูุฌุฏุฏุงู ููุดุชู ุดูุฏ ู ุฎุทุง ุฑุฎ ูุฏูุฏ
    * ucase: ุชุจุฏู ุจู ุญุฑูู ุจุฒุฑฺฏ
        * dd if=~/file1 of=~/file2 conv=ucase # ุจุฑุง ุชุจุฏู ฺฉู ูุญุชูุงุช ูุงู ุจู ุญุฑูู ุจุฒุฑฺฏ
    * lcase: ุชุจุฏู ุจู ุญุฑูู ฺฉูฺฺฉ
        * dd if=~/file1 of=~/file2 conv=lcase # ุจุฑุง ุชุจุฏู ฺฉู ูุญุชูุงุช ูุงู ุจู ุญุฑูู ฺฉูฺฺฉ
    * ascii: ุชุจุฏู ูุงู ุงุฒูุฑ ูุฑูุช ุจู ูุฑูุช ุงุณฺฉ
        * dd if=textfile.ebcdic of=textfile.ascii conv=ascii
    * ebcdic: ุชุจุฏู ูุงู ุงุฒ ูุฑ ูุฑูุช ุจู ูุฑูุช ยซุงูุจโุฏฺฉยป ฺฉู ุจุดุชุฑ ุงุฒ ยซูููโููุฑููยปูุง ุจุงุฒุงุจ ูโุดูุฏ\
        * dd if=textfile.ascii of=textfile.ebcdic conv=ebcdic
* count: ุชุนุฏุงุฏ ุงูุฌุงู ุนููุงุช

### โ๏ธ Examples

* dd if=/dev/sda1 of=/dev/sdb1 bs=4096 conv=noerror,sync
    * Note: ุจุฑุง ฺฉูพ ฺฉ ูพุงุฑุชุดู ุฑู ฺฉ ูพุงุฑุชุดู ุฏฺฏุฑ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ู ฺฉูู
* dd if=/dev/cdrom of=/mycd.iso
* dd if=/dev/sda of=/tmp/sdaMBR.img bs=512 count=1 #MBR size is 512 byte
* dd if=debian.iso of=/dev/sda bs=4M conv=fdatasync status=progress # ุณุงุฎุช ฺฉ ููุด ุจุง ูุงุจูุช ุจูุช
* dd if=/dev/da0 conv=sync,noerror bs=128K | gzip -c | ssh behrooz@server1 dd of=centos-core-7.gz # ูุจูุฏู ูุถุง ฺฉุงู ู ุฐุฎุฑู ุฏุฑ ุฑููุช

## ๐ฑ๏ธ gcc

* ุนุจุงุฑุช GCC ูุฎูู GNU Compiler Collection ูโุจุงุดุฏ
* ุชูุณุท ุฑฺุงุฑุฏ ุงุณุชุงููู ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช
* ฺฉุงููพุงูุฑ Clang ฺฉู ุจุฑ ูุจูุง ูพุฑูฺู LLVM ุชูุณุนู ุฏุงุฏู ุดุฏู ู ุจุณุงุฑ ุดุจู ุจู ฺฉุงููพุงูุฑ GCC ุงุณุช.
* ฺฉุงููพุงูุฑ MSVS ฺฉู ูุฎูู MicroSoft Visual Studio ูุณุช ู ุชูุณุท ูุงฺฉุฑูุณุงูุช ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช.
* ฺฉุงููพุงูุฑ GCC ุฏุฑ ุณุณุชูโุนุงููโูุง ฺฉู ฺฉุฑูู ุขููุง ุจุฑ ูุจูุง UNIX ููุดุชู ุดุฏู ุจุงุดุฏ(ูุซู ูููฺฉุณ ุง ูฺฉ) ุนููฺฉุฑุฏ ุจูุชุฑ ุฏุงุฑุฏ ู ุนููฺฉุฑุฏ gcc ุฏุฑ ููุฏูุฒ ฺฉูุฏุชุฑ ูุณุช
* `sudo apt install gcc`: ูุตุจ ฺฉุงููพุงูุฑ ุฌโุณโุณ

**CommandSyntax:** gcc Options Files

### โ๏ธ options:

* [-o Output]: ุงุฌุงุฏ ูุงู ุจุงูุชุฑ ุฎุฑูุฌ
* [-D<NameofConstant>=Value]: ุจุฌุง ุชุนุฑู ุซุงุจุชโูุง ุชุญุช ุนููุงู ยซุฏูุงูยป ููุงุฏุฑ ุฑุง ุฏุฑููฺฏุงู ฺฉุงููพุงู ููุฏุงุฑ ุฏู ฺฉุฑุฏ
    * gcc -D<NameOfConstant>=Value NameOfSourceCode -o NameOfOutputFile]
* [-S outFile.c]: specifies to produce assembly code, instead of object code
    * ุงุฌุงุฏ ฺฉ ยซูุงูโุงุณูุจูยป (ฺฉู ุญุงู ฺฉุฏุงุณูุจู ุงุณุช) ุจุฌุง ุงุฌุงุฏ ยซุขุจุฌฺฉุชโูุงูยป ุชูุณุท ฺฉุงููพุงูุฑ
    * gcc -S metech2.c -o assembled.s

```shell
gcc main.c -o outpu_bin_file
```

### โ๏ธ Environment Variables

[//]: # (Todo: Need to Review)
GCC uses the following environment variables:

* **PATH**: For searching the executables and run-time shared libraries (.dll, .so)
* **CPATH**: For searching the include-paths for headers.
    * It is searched after paths specified in -I<dir> options.
    * `C_INCLUDE_PATH` and `CPLUS_INCLUDE_PATH` can be used to specify C and C++ headers if the particular language was indicated in pre-processing
* **LIBRARY_PATH**: For searching library-paths for link libraries.
    * It is searched after paths specified in -L<dir> options.

## ๐ฑ๏ธ g++

Syntax: g++ [options] [files]

### โ๏ธ options

* [-o]: specifies the output executable filename.
* [-g]: generates additional symbolic debuggging information for use with gdb debugger.
* [-Wall]: prints "all" warning messages. ููุงุด ุชูุงู ูุดุฏุงุฑ ูุง

### โ๏ธ Examples

```shell
g++ -o myCode.exe file.cpp  # ุชฺฉ ูุงู
g++ -o myCode file1.cpp file2.cpp # ฺูุฏ ูุงู
g++ -c file1.cpp && g++ -c file2.cpp  &&   g++ -o myprog.exe file1.o file2.o # ฺูุฏ ูุงู
```

## ๐ฑ๏ธ udevadm

### โ๏ธ Concepts

* ุฏุฑ ุณุณุชูโุนุงูู ูููฺฉุณ ูุจุญุซ udev ุนุงูู ุจุฑุง ูุฏุฑุช ุณุณุชู ู ุฏุณุชฺฏุงู ุงุณุช ฺฉู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุฏุณุชฺฏุงูโูุง ูุชุตู ุจู ุณุณุชู ุฑุง ุดูุงุณุง ู ูพฺฉุฑุจูุฏ ูโฺฉูุฏ.
* ุฏุฑ ุณุณุชูโุนุงููโูุง ูููฺฉุณ ุฏุณุชูุฑ udevadm ุจุฑุง ูุนุงูโุณุงุฒ ูุฌุฏุฏ ุฑูุฏุงุฏูุง udev ุงุณุชูุงุฏู ูโุดูุฏ
* udev ุจู ุฏูุงุณโูุง hotPlug ฺฏูุด ูโุฏูุฏ ู ุจู ูุญุถ ุงูฺฉู ฺฉ ุฏูุงุณ ูุงุฑุฏ ุดุฏ ฺฉุงุฑ ูฺฉูุฏ ฺฉู ุงู ฺฉุงุฑูุง ุฏุฑ ูุณุฑ `/lib/udev/rules.d` ูุฑุงุฑ ุฏุงุฑุฏ
* ุฏุณุชูุฑ `udevadm trigger`: ุงุฑุณุงู ูุฑูุงู ุจู ยซudevยป ุฌูุช ุงุฌุงุฏ ุฑูุฏุงุฏูุง ุฌุฏุฏ ุจุฑุง ุฏุณุชฺฏุงูโูุง ูุชุตู
    * ุจู ฺฏูููโุง ฺฉู ููุงูู ู ุงุณฺฉุฑูพุชโูุง ูุฑุจูุท ุจู ุฏุณุชฺฏุงูโูุง(ุดุงูู ุจุงุฑฺฏุฐุงุฑ ูุงฺููโูุง ูุณุชูุ ุชูุธู ูุฌุฏุฏ ูุฌูุฒูุงุ ุง ุงุฌุฑุง ุงุณฺฉุฑูพุชโูุง ุฎุงุต) ุฏูุจุงุฑู ุงุฌุฑุง ุดููุฏ
    * ุญุงุตู ูููุฏู ุงุทููุงู ุงุฒ ุตุญุช ุฅุนูุงู ุชุบุฑุงุช ุฏุฑ ูพฺฉุฑุจูุฏ ุฏุณุชฺฏุงูโูุง ุง ููุงูู udev
    * ุชุบู ฺฉูุงุณ ุฎุงุต ุงุฒ ุฏูุงุณโูุง(ูุซูุง ููุท ุจูุงฺฉโูุง ู ุบุฑู) ฺฉู ุจุฎูุงูู ุชุญุช ุชุฃุซุฑ ูุฑุงุฑ ุจฺฏุฑูุฏ ุจุง ุณูฺ subsystem-match

### โ๏ธ Switch

### โ๏ธ trigger

udevadm **trigger** [options] [devpath(such as /dev/sda)|file|unit]

**options**

* [--action=]:
    * add # ุงูุฒูุฏู
    * remove # ุญุฐูโฺฉุฑุฏู
    * change # ุงุนูุงู ุชุบุฑ
    * move # ุฌุงุจูโุฌุง
    * online # ุขููุงูโูููุฏู
    * offline # ุขููุงู ูููุฏู
    * bind # ุงุชุตุงู ุฑูฺฉุฑุฏ ุฏุฑ ุฏู ุดุก ุง ุฏูุงุณ
    * unbind # ุฎุงุฑุญ ฺฉุฑุฏู ุงุฑุชุจุงุท ู ุงุชุตุงู ุฏู ุดุก ุง ุฏูุงุณ ุงุฒ ูู
* [--subsystem-match=]
    * block: ุจุฑุง ุฏุณุชฺฏุงูโูุง ุจูุงฺฉ (ูุงููุฏ ุฏุณฺฉโูุง ุณุฎุช ู SSDูุง)
        * net: ุจุฑุง ุฏุณุชฺฏุงูโูุง ุดุจฺฉู (ูุงููุฏ ฺฉุงุฑุชโูุง ุดุจฺฉู)
            * udevadm trigger --subsystem-match=net #ูุนุงูุณุงุฒ ูุฌุฏุฏ ุฑูุฏุงุฏูุง ุจุฑุง ุฏุณุชฺฏุงูโูุง ุดุจฺฉู
    * usb: ุจุฑุง ุฏุณุชฺฏุงูโูุง USB
    * pci: ุจุฑุง ุฏุณุชฺฏุงูโูุง PCI
    * tty: ุจุฑุง ุฏุณุชฺฏุงูโูุง ุชุฑููุงู (ูุงููุฏ tty ู pty)
    * input: ุจุฑุง ุฏุณุชฺฏุงูโูุง ูุฑูุฏ (ูุงููุฏ ฺฉุจูุฑุฏ ู ูุงูุณ)
    * sound: ุจุฑุง ุฏุณุชฺฏุงูโูุง ุตูุช
    * video: ุจุฑุง ุฏุณุชฺฏุงูโูุง ูุฏู (ูุงููุฏ ุฏูุฑุจูโูุง)
    * char: ุจุฑุง ุฏุณุชฺฏุงูโูุง ฺฉุงุฑุงฺฉุชุฑ (ูุงููุฏ ุฏุณุชฺฏุงูโูุง ุณุฑุงู)
    * firmware: ุฏุณุชฺฏุงูโูุง ูุฑุจูุท ุจู ูุฑููุฑ
    * backlight: ุฏุณุชฺฏุงูโูุง ููุฑ ูพุณโุฒููู (ูุงููุฏ ุตูุญูโููุงุด)
    * dmi: ุงุทูุงุนุงุช DMI (ุฏุณุชฺฏุงูโูุง ุณุฎุชโุงูุฒุงุฑ)
    * gpu: ุฏุณุชฺฏุงูโูุง ฺฏุฑุงูฺฉ
    * scsi: ุฏุณุชฺฏุงูโูุง SCSI
    * md: ุฏุณุชฺฏุงูโูุง RAID (ูุฏุฑุช ุฏุณฺฉ)
        * ุจุฑุง ูุดุงูุฏู ูุณุช ฺฉุงูู(ุงูุจุชู ูุงุจุณุชู ุจู ุชูุฒุน ูููฺฉุณ ู ุณุฎุชโุงูุฒุงุฑ) ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ููุงุฏ
            * ls /sys/class/

### โ๏ธ info

Query the udev database for device information

udevadm **info** [options] [devpath(such as /dev/sda)|file|unit]

* [-t] or [--tree]: ููุงุด ุฏุฑ ุณุงุฎุชุงุฑ ุฏุฑุฎุช
* [-c] or [--cleanup-db]: Cleanup the udev database
    * sudo udevadm info --cleanup-db /dev/sdb
    * ุชูุตูโูโุดูุฏุฏุฑ ุงุฏุงูู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุจุฒูุฏ
    * sudo udevadm trigger /dev/sdb

### โ๏ธ Examples

* `udevadm trigger  --subsystem-match=block --action=add $disk`
* `sudo udevadm info /dev/sda`
* ```shell
  for disk in /dev/sda /dev/sdb; do
  udevadm trigger  --subsystem-match=block --action=add $disk 
  done
  ```
* `sudo udevadm info /dev/sdb`

## ๐ฑ๏ธ uname

ููุงุด ุงุทูุงุนุงุช ฺฉุฑูู ู ุณุณุชู

* [-a] OR [--all] โ print all information
* [-s] OR [--kernel-name] โ print the kernel name
* [-n] OR [--nodename] โ print the network node hostname
* [-r] OR [--kernel-release] โ print the Linux kernel release
* [-v] OR [--kernel-version] โ print the kernel version
* [-m] OR [--machine] โ print the machine hardware name
* [-p] OR [--processor] โ print the processor type or โunknownโ
* [-i] OR [--hardware-platform] โ print the hardware platform or โunknownโ
* [-o] OR [--operating-system] โ print the operating system
