# 1.Concept

ุงุณุชูุงุฏู ุงุฒ ุฑูุด ูุงฺููุงุฑ(Modular) ุจูุชุฑู ฺฏุฒูู ุฏุฑ ฺฉุฏููุณ ู ฺฉุงููพุงู ูพุฑูฺูโูุงุณุช ุจฺฏูููโุง ฺฉู ุจุฎุดโูุง ูุฎุชูู ูพุฑูฺู ุจู ุตูุฑุช ูุงฺููโูุง ูุฌุฒุง ฺฉุงููพุงู ุดููุฏ. ุงู ููุถูุน ุณุจุจ ุจุฑูุฒ ูพฺุฏฺฏ ุฎูุงูุฏ ุดุฏ ฺฉู ุจุฏู ุฌูุช ุงุจุฒุงุฑ Make ุจุฑุง ุชุณูู ุงู ูุฑุงุญู ู ุฎูุฏฺฉุงุฑุณุงุฒ ุงู ูุฑุงูุฏ ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏ. ุฑููุฏ ฺฉุงููพุงู ุงู ูุงฺููโูุง ุฏุฑ ูุงู ุจูโูุงู Makefile ุชุนุฑู ูโุดููุฏ.

ููุช ุดูุง ุฏุณุชูุฑ make ุฑุง ุฏุฑ ุฎุท ูุฑูุงู ูโููุณุฏุ ุจุฑูุงููู Make ุฏุฑ ุฏุงุฑฺฉุชูุฑ ูุนูโุง ฺฉู ุฏุฑ ุขู ูุฑุงุฑ ุฏุงุฑุฏ ูุงู ุจูโูุงู Makefile ุฑุง ูโุฎูุงูุฏ ู ุดุฑูุน ุจู ูพุฑุฏุงุฒุด ุงููู ูุฏู ููุฌูุฏ ุฏุฑ ุขู ูโฺฉูุฏ (Default Goal). ุงูุง ูุจู ุงุฒ ุงูฺฉู ุฏุณุชูุฑุงุช ููุฌูุฏ ุฏุฑ ุงู ูุฏู ุงุฌุฑุง ุดููุฏุ Make ุจุงุฏ ุชูุงู ูพุดโูุงุฒูุง ูุฑุจูุท ุจู ุขู ูุฏู ุฑุง ูพุฑุฏุงุฒุด ฺฉูุฏ. ูุฑ ฺฉ ุงุฒ ุงู ูพุดโูุงุฒูุง ูุฒ ุจุฑุง ุฎูุฏ Rule
ุฏุงุฑูุฏ ฺฉู ุจุฑุง ุณุงุฎุช ุขูโูุง ูพุฑุฏุงุฒุด ุฎูุงูุฏ ุดุฏ.

* ุจุฑุง ฺฉุงููพุงู makefile.in ุจุงุฏ ุจุฑูุงูู make ุฏุฑ ุณุณุชูโุนุงูู ฺฉุงููพุงูโฺฉููุฏู ูุตุจ ุดุฏู ุจุงุดุฏ
* ุงุณุชูุงุฏู ุงุฒ Make ูุงุจุณุชู ุจู ุฒุจุงู ุจุฑูุงููโููุณ ุฎุงุต ูุณุช.
* ุฏุณุชูุฑุงุช ูุงู makefile ุฏุฑ shell ุงุฌุฑุง ูโุดููุฏ ุชุง ุณุจุจ ุงุฌุงุฏ ูุงู ุงุฌุฑุง ูพุฑูฺู ฺฏุฑุฏูุฏ
* ููุท ุจุฑุง ฺฉุงููพุงู ุจุฑูุงููโูุง ุงุณุชูุงุฏู ููโุดูุฏ ุจูฺฉู ูุฑ ฺฉุงุฑ ุงุนู ุงุฒ ุจุฑูุฒุฑุณุงู(ูุงูโูุง) ู ุชุบุฑ ุง ุญุฐู ูุฒ ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ูโฺฏุฑุฏ
* ุจุฏูู ููุดุชูโุดุฏู ุฌุฒุฆุงุช ุฏุฑ Makefile ุ ุงูฺฉุงู ฺฉุงููพุงู ู ูุตุจ ุฑุง ุจุฑุง ฺฉุงุฑุจุฑ ุณุงุฏู (ุจุฏูู ุงุทูุงุนุงุช ูู) ูุฑุงูู ูโุขูุฑุฏ
* ฺฉุฏูุง ุชุบุฑ ฺฉุฑุฏู source ูพุฑูฺู ุฑุง ุจุตูุฑุช ุงุชููุงุชฺฉ ุชุดุฎุต ูโุฏูุฏ. ุงู ุงูฺฉุงู ุฒูุงู ููุฏ ุฎูุงูุฏ ุจูุฏ ฺฉู ุชุนุฏุงุฏ ฺฉุฏูุง source ฺฉ ุจุฑูุงูู ุฒุงุฏ ุงุณุช

# 2.makefile Structure and Syntax

```makefile
target: dependencies
     commands # ุชู ุฑูุชฺฏ ุญุชูุง ุจุงุฏ ุจุง ุชุจ ุจุงุดุฏ ู ุงุณูพุณ ูุจุงุฏ ุงุณุชูุงุฏู ุดูุฏ
```

* ุฏุฑุตูุฑุช ฺฉุงู ูุจูุฏู ฺฉ ุฎุท ุจุฑุง ุงุฏุงูู ุฏุฑ ุฎุท ุจุนุฏ ุฏุฑ ุงูุชูุง ุฎุท ูพูุฑ ุดุฏู ฺฉ \ ูุฑุงุฑ ุจุฏูุฏ ู ุจู ุฎุท ุฌุฏุฏ ุจุฑูุฏ

## 1.Rules

ููุงูู  (Rules) ุจู ุฏู ุฏุณุชู ฺฉู ุชูุณู ูโุดููุฏ:

**ุฏุณุชู ุงูู-ููุงูู ุตุฑุญ (Explicit Rules):** ุฎูุฏูุงู ุจุตูุฑุช ูุณุชูู ูุงู ุฏูู targetุ dependencies ู ุฏุณุชูุฑุงุช build ุฑุง ูุดุฎุต ฺฉู

* ุงูุนุทุงูโูพุฐุฑ ุจุดุชุฑ
* ุฎูุงูุง ูุงุถุญโุชุฑ
* ูุซุงู: ูุฑุถ ฺฉูุฏ ฺฉ ุจุฑูุงูู C ุฏุงุฑุฏ ุจุง ูุงู `main.c` ู ูโุฎูุงูุฏ ุขู ุฑุง ุจู ฺฉ ุงุฌุฑุง ุจู ูุงู `myprogram` ฺฉุงููพุงู ฺฉูุฏ.

```makefile
myprogram: main.c
  gcc -o myprogram main.c
```

**ุฏุณุชู ุฏูู-ููุงูู ุบุฑุตุฑุญ (Implicit Rules):** ุจุฑูุงูู Make ุฎูุฏุด ุชุดุฎุต ุฏูุฏ ฺฺฏููู ฺฉ ูุงู ุฑุง ุจุณุงุฒุฏุ ุจุฏูู ุงูฺฉู ุดูุง ุฌุฒุฆุงุช ุฏุณุชูุฑุงุช ุฑุง ุจููุณุฏ. ุงู ููุงูู ูพุดโูุฑุถ ูุณุชูุฏ ู ุจุฑ ุงุณุงุณ ูพุณููุฏูุง ูุงูโูุง ุนูู ูโฺฉููุฏ.

* ุงูุนุทุงูโูพุฐุฑ ฺฉูุชุฑ (ุงูุง ฺฉุงุฑุจุฑุฏ ุนููู ุฏุงุฑุฏ)
* ุฎูุงูุงู ฺฉูุชุงูโุชุฑ ุงูุง ฺฏุงู ฺฏุฌโฺฉููุฏู ุจุฑุง ุชุงุฒูโฺฉุงุฑูุง
* ูุซุงู:ุงฺฏุฑ ูุงู `main.c` ููุฌูุฏ ุจุงุดุฏ ู ฺฉ target ุจู ูุงู `main.o` ุชุนู ฺฉูุฏุ Make ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ู ุถูู ูโุฏุงูุฏ ฺฉู ุจุงุฏ `main.c` ุฑุง ุจุง gcc ฺฉุงููพุงู ฺฉูุฏ.
    * ุนู ูโุชูุงูุฏ ููุท ูุทุนู ฺฉุฏ ุฒุฑ ุฑุง ุจุนููุงู ูุงููู ุบุฑ ุตุฑุญ(Implicit Rules) ุจููุณุฏ

```makefile
main.o:
```

* ุฏุฑ ููุถูุน ููุงูู ุบุฑุตุฑุญ (Implicit Rules) ุฏู ูุทุนู ฺฉุฏ ุฒุฑ ูุดุงุจู ูุณุชูุฏ. ููุงุฑุฏ ุชุนุฑู ุดุฏู ุฏุฑ ุจุฎุด ุฏูู ุจุตูุฑุช ุถูู ุชูุณุท ุจุฑูุงูู Make ุฎูุฏุด ูุงููู ุถูู (implicit) ุฑุง ุจู ฺฉุงุฑ ูโุจุฑุฏ.

```makefile
#1๏ธโฃ๏ธ Explicit Rule ุง ุบุฑุตุฑุญ
main.o:

#2๏ธโฃ๏ธ:Implicit Rule ุง ุตุฑุญ
main.o: main.c
  gcc -c main.c -o main.o

```

## 2.Variables

* ุจุง ฺฉุงุฑุงฺฉุชุฑ ุฏุงูุฑ ุดุฑูุน ูโุดูุฏ
* ูุชุบุฑูุง ุจุงุฏ ุฏุฑูู ูพุฑุงูุชุฒ ุง ุขฺฉููุงุฏ ูุฑุงุฑ ุจฺฏุฑูุฏ
* ุฏุฑ makefile ุงุฒ ูุชุบุฑูุง ุงุณุชุงูุฏุงุฑุฏ ู ุฑุงุฌ ูุธุฑ ููุงุฑุฏ ุฒุฑ ุงุณุชูุงุฏู ูโุดูุฏ
    * CC:
        * CC = gcc
    * CFLAGS = -Wall -Wextra -g
    * CPPFLAGS
    * LDFLAGS

  # ๐ ุฌุฏูู ฺฉุงูู ูุชุบุฑูุง ุฑุงุฌ ุฏุฑ Makefile

<div style="direction: rtl">

| ูุงู ูุชุบุฑ       | ููุน      | ุชูุถุญ ฺฉุงูู                                                  | ูุซุงู ุงุณุชูุงุฏู                         |
|-----------------|----------|-------------------------------------------------------------|--------------------------------------|
| `CC`            | ฺฉุงููพุงูุฑ | ูุดุฎุต ฺฉููุฏู ฺฉุงููพุงูุฑ C (ูุงููุฏ `gcc`, `clang`)                | `CC = gcc`                           |
| `CXX`           | ฺฉุงููพุงูุฑ | ูุดุฎุต ฺฉููุฏู ฺฉุงููพุงูุฑ C++ (ูุงููุฏ `g++`, `clang++`)            | `CXX = g++`                          |
| `CPP`           | ฺฉุงููพุงูุฑ | ูพุดโูพุฑุฏุงุฒูุฏู C/C++                                          | `CPP = cpp`                          |
| `FC`            | ฺฉุงููพุงูุฑ | ฺฉุงููพุงูุฑ ุฒุจุงู Fortran                                       | `FC = gfortran`                      |
| `PC`            | ฺฉุงููพุงูุฑ | ฺฉุงููพุงูุฑ Pascal (ูุงููุฏ `fpc`)                               | `PC = fpc`                           |
| `CFLAGS`        | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ ุจุฑุง ุฒุจุงู C                              | `CFLAGS = -Wall -Wextra -O2`         |
| `CXXFLAGS`      | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ ุจุฑุง ุฒุจุงู C++                            | `CXXFLAGS = -std=c++17 -g`           |
| `FFLAGS`        | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ Fortran                                  | `FFLAGS = -O3 -m64`                  |
| `PFLAGS`        | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ Pascal                                   | `PFLAGS = -Mobjfpc -Criot`           |
| `CPPFLAGS`      | ฺฏุฒููโูุง | ฺฏุฒููโูุง ูพุดโูพุฑุฏุงุฒูุฏู C/C++ (ูุซู `-I`, `-D`)               | `CPPFLAGS = -Iinclude -DNDEBUG`      |
| `LDFLAGS`       | ฺฏุฒููโูุง | ฺฏุฒููโูุง ููฺฉุฑ (ูุงููุฏ `-L`, `-rpath`)                      | `LDFLAGS = -L/usr/local/lib`         |
| `LDLIBS`        | ููฺฉุงฺ   | ูุจุฑโูุง ฺฉู ุจุงุฏ ููฺฉ ุดููุฏ                                | `LDLIBS = -lm -lpthread`             |
| `AR`            | ฺฉุงุฑููุจ  | ฺฉุงุฑููุจ (archive tool) ุจุฑุง ุณุงุฎุช static library             | `AR = ar`                            |
| `ARFLAGS`       | ฺฏุฒููโูุง | ฺฏุฒููโูุง `ar` (ูุงููุฏ `rcs`)                                | `ARFLAGS = rcs`                      |
| `RANLIB`        | ฺฉุงุฑููุจ  | ุงุจุฒุงุฑ ุจุฑุง ุงุฌุงุฏ ููุฑุณุช ููุงุฏูุง ูุงุจู ููฺฉ ุฏุฑ static library | `RANLIB = ranlib`                    |
| `RM`            | ุณุณุชู   | ุฏุณุชูุฑ ุญุฐู ูุงู (ูุนูููุงู `rm -f`)                            | `RM = rm -f`                         |
| `INSTALL`       | ุณุณุชู   | ุฏุณุชูุฑ ูุตุจ ูุงูโูุง ุฏุฑ ุณุณุชู                                  | `INSTALL = install`                  |
| `prefix`        | ูุณุฑ     | ูพุดููุฏ ูุณุฑ ุงุตู ุจุฑุง ูุตุจ (ูุนูููุง `/usr/local`)             | `prefix = /usr/local`                |
| `exec_prefix`   | ูุณุฑ     | ูพุดููุฏ ูุณุฑ ุงุฌุฑุง (ูุนูููุง `$(prefix)`)                     | `exec_prefix = $(prefix)`            |
| `bindir`        | ูุณุฑ     | ูุณุฑ ูุตุจ ุงุฌุฑุงโูุง                                          | `bindir = $(exec_prefix)/bin`        |
| `includedir`    | ูุณุฑ     | ูุณุฑ ูุตุจ header ูุงูโูุง                                     | `includedir = $(prefix)/include`     |
| `libdir`        | ูุณุฑ     | ูุณุฑ ูุตุจ ูุจุฑโูุง                                           | `libdir = $(exec_prefix)/lib`        |
| `datadir`       | ูุณุฑ     | ูุณุฑ ูุตุจ ุฏุงุฏูโูุง ูุดุชุฑฺฉ                                     | `datadir = $(prefix)/share`          |
| `mandir`        | ูุณุฑ     | ูุณุฑ ูุตุจ ูุงูโูุง ุฑุงูููุง (man pages)                        | `mandir = $(datadir)/man`            |
| `SRCS`          | ููุจุน     | ูุณุช ูุงูโูุง ููุจุน (ูุงููุฏ `.c`, `.cpp`, `.f90`)             | `SRCS = main.c utils.c`              |
| `OBJS`          | object   | ูุณุช ูุงูโูุง object (ูุงููุฏ `.o`)                           | `OBJS = main.o utils.o`              |
| `HDRS`          | ููุจุน     | ูุณุช header ูุงูโูุง (ูุงููุฏ `.h`)                            | `HDRS = utils.h`                     |
| `TARGET`        | ุฎุฑูุฌ    | ูุงู ุจุฑูุงูู ุง ูุจุฑ ููุง                                   | `TARGET = myprogram`                 |
| `PROGS`         | ุฎุฑูุฌ    | ูุณุช ุชูุงู ุจุฑูุงููโูุง ฺฉู build ูโุดููุฏ                      | `PROGS = app1 app2`                  |
| `LIBS`          | ุฎุฑูุฌ    | ูุณุช ูุจุฑโูุง ฺฉู build ูโุดููุฏ                            | `LIBS = libmylib.a`                  |
| `TESTS`         | ุชุณุช      | ูุณุช ุชุณุชโูุง ูุงุญุฏ ุง ุชุณุชโฺฉุณโูุง                             | `TESTS = test_math test_utils`       |
| `DOCS`          | ูุณุชูุฏุงุช  | ูุงูโูุง ูุณุชูุฏุงุช ุชููุฏ (ูุงููุฏ HTML, PDF)                   | `DOCS = docs/html/index.html`        |
| `TAGS`          | ุงุจุฒุงุฑ    | ูุงูโูุง ุชฺฏ (ุจุฑุง vim/emacs)                                | `TAGS = tags`                        |
| `MAKEDEPEND`    | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ ุจุฑุง ุชููุฏ ูุงุจุณุชฺฏโูุง include                       | `MAKEDEPEND = makedepend`            |
| `YACC`          | ุงุจุฒุงุฑ    | parser generator (ูุงููุฏ `bison`)                            | `YACC = bison`                       |
| `LEX`           | ุงุจุฒุงุฑ    | lexer generator (ูุงููุฏ `flex`)                              | `LEX = flex`                         |
| `FLEX`          | ุงุจุฒุงุฑ    | flex lexer generator                                        | `FLEX = flex`                        |
| `BISON`         | ุงุจุฒุงุฑ    | Bison parser generator                                      | `BISON = bison`                      |
| `MOC`           | Qt       | Meta-Object Compiler for Qt                                 | `MOC = moc`                          |
| `UIC`           | Qt       | UI compiler for Qt                                          | `UIC = uic`                          |
| `QMAKE`         | Qt       | QMake utility                                               | `QMAKE = qmake`                      |
| `JAVAC`         | Java     | ฺฉุงููพุงูุฑ ุฒุจุงู Java                                          | `JAVAC = javac`                      |
| `JFLAGS`        | ฺฏุฒููโูุง | ฺฏุฒููโูุง ฺฉุงููพุงูุฑ Java                                     | `JFLAGS = -g`                        |
| `PYTHON`        | Python   | ููุณุฑ ุง ฺฉุงููพุงูุฑ Python                                     | `PYTHON = python3`                   |
| `SWIG`          | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ ุชููุฏ wrapper ุจู ุฒุจุงูโูุง ูุฎุชูู                      | `SWIG = swig`                        |
| `SWIGFLAGS`     | ฺฏุฒููโูุง | ฺฏุฒููโูุง SWIG                                              | `SWIGFLAGS = -python`                |
| `SED`           | ุณุณุชู   | ุฌุณุชุฌู ู ุฌุงฺฏุฒู ุงูฺฏู ุฏุฑ ูุงูโูุง                            | `SED = sed`                          |
| `AWK`           | ุณุณุชู   | ูพุฑุฏุงุฒุด ุงูฺฏู ู ุฏุงุฏู ุฏุฑ ูุงูโูุง                               | `AWK = awk`                          |
| `GREP`          | ุณุณุชู   | ุฌุณุชุฌู ุฏุฑ ูุงูโูุง                                            | `GREP = grep`                        |
| `CP`            | ุณุณุชู   | ฺฉูพ ฺฉุฑุฏู ูุงูโูุง                                            | `CP = cp`                            |
| `MV`            | ุณุณุชู   | ุชุบุฑ ูุงู ุง ุงูุชูุงู ูุงู                                    | `MV = mv`                            |
| `MKDIR`         | ุณุณุชู   | ุงุฌุงุฏ ูพูุดู                                                  | `MKDIR = mkdir -p`                   |
| `TAR`           | ุณุณุชู   | ุงุจุฒุงุฑ tar ุจุฑุง ูุดุฑุฏูโุณุงุฒ                                   | `TAR = tar`                          |
| `ZIP`           | ุณุณุชู   | ุงุจุฒุงุฑ zip ุจุฑุง ูุดุฑุฏูโุณุงุฒ                                   | `ZIP = zip`                          |
| `UNZIP`         | ุณุณุชู   | ุงุจุฒุงุฑ unzip ุจุฑุง ุจุงุฒ ฺฉุฑุฏู ูุงูโูุง zip                      | `UNZIP = unzip`                      |
| `GIT`           | ุงุจุฒุงุฑ    | ูุฏุฑุช ูุณุฎูโูุง                                              | `GIT = git`                          |
| `VALGRIND`      | ุชุณุช      | ุงุจุฒุงุฑ ุชุณุช ุญุงูุธู                                             | `VALGRIND = valgrind`                |
| `GCOV`          | ุชุณุช      | ุงุจุฒุงุฑ code coverage ุจุฑุง GCC                                | `GCOV = gcov`                        |
| `PERL`          | ุณุณุชู   | ููุณุฑ Perl                                                   | `PERL = perl`                        |
| `PHP`           | ุณุณุชู   | ููุณุฑ PHP                                                    | `PHP = php`                          |
| `SHELL`         | ุณุณุชู   | shell ุงุณุชูุงุฏู ุดุฏู ุฏุฑ Makefile (ูุนูููุงู `/bin/sh`)           | `SHELL = /bin/bash`                  |
| `MAKE`          | ุงุจุฒุงุฑ    | ุฎูุฏ ุฏุณุชูุฑ `make`                                            | `MAKE = make`                        |
| `DESTDIR`       | ูุณุฑ     | ูุณุฑ ูููุช ุจุฑุง ูุตุจ (ูุจู ุงุฒ root)                            | `DESTDIR = /tmp/install`             |
| `PREFIX`        | ูุณุฑ     | ูุนุงุฏู `prefix`ุ ุจุฑุง ุณุงุฒฺฏุงุฑ ุจุง ุจุนุถ ูพุฑูฺูโูุง               | `PREFIX = /opt/myapp`                |
| `VERSION`       | ุนููู    | ูุณุฎู ูุฑูโุงูุฒุงุฑ                                              | `VERSION = 1.0.0`                    |
| `DEBUG`         | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง enable ฺฉุฑุฏู debug                                  | `DEBUG = -g`                         |
| `OPTIMIZE`      | ฺฏุฒููโูุง | ููฺฏ ุจูููโุณุงุฒ                                              | `OPTIMIZE = -O3`                     |
| `PROFILE`       | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง profiling                                          | `PROFILE = -pg`                      |
| `STATIC`        | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง build static                                       | `STATIC = -static`                   |
| `SHARED`        | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง build shared library                               | `SHARED = -shared`                   |
| `PIC`           | ฺฏุฒููโูุง | Position Independent Code ุจุฑุง ูุจุฑโูุง shared             | `PIC = -fPIC`                        |
| `THREADS`       | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง ูพุดุชุจุงู ุงุฒ multi-threading                        | `THREADS = -pthread`                 |
| `VERBOSE`       | ฺฏุฒููโูุง | ููฺฏ ุจุฑุง ููุงุด ุฌุฒุฆุงุช build                                 | `VERBOSE = 1`                        |
| `CONFIG`        | ุนููู    | ุชูุธูุงุช ูพฺฉุฑุจูุฏ                                            | `CONFIG = release`                   |
| `OS`            | ุนููู    | ุณุณุชู ุนุงูู ูุฏู                                              | `OS = Linux`                         |
| `ARCH`          | ุนููู    | ูุนูุงุฑ CPU ูุฏู                                              | `ARCH = x86_64`                      |
| `EXEEXT`        | ุฎุฑูุฌ    | ูพุณููุฏ ูุงู ุงุฌุฑุง (ุฏุฑ ููุฏูุฒ `.exe`)                        | `EXEEXT = .exe`                      |
| `OBJEXT`        | object   | ูพุณููุฏ ูุงู object                                           | `OBJEXT = .o`                        |
| `LIBEXT`        | ุฎุฑูุฌ    | ูพุณููุฏ ูุงู ูุจุฑ (`.a`, `.so`, `.dll`)                      | `LIBEXT = .a`                        |
| `DOCSDIR`       | ูุณุฑ     | ูุณุฑ ุฐุฎุฑู ูุณุชูุฏุงุช                                          | `DOCSDIR = $(prefix)/doc/$(PROJECT)` |
| `ETCDIR`        | ูุณุฑ     | ูุณุฑ ูุงูโูุง config                                        | `ETCDIR = $(prefix)/etc`             |
| `DATADIR`       | ูุณุฑ     | ูุณุฑ ุฏุงุฏูโูุง ุจุฑูุงูู                                        | `DATADIR = $(prefix)/data`           |
| `LOCALEDIR`     | ูุณุฑ     | ูุณุฑ ูุงูโูุง ุชุฑุฌูู                                         | `LOCALEDIR = $(DATADIR)/locale`      |
| `SYSCONFDIR`    | ูุณุฑ     | ูุณุฑ ูุงูโูุง ูพฺฉุฑุจูุฏ ุณุณุชู                               | `SYSCONFDIR = /etc`                  |
| `LOCALSTATEDIR` | ูุณุฑ     | ูุณุฑ ุฏุงุฏูโูุง ูุญู ุณุณุชู (ูุงููุฏ log, run)                   | `LOCALSTATEDIR = /var`               |
| `INFODIR`       | ูุณุฑ     | ูุณุฑ info manuals                                           | `INFODIR = $(prefix)/info`           |
| `HTMLDIR`       | ูุณุฑ     | ูุณุฑ ูุณุชูุฏุงุช HTML                                           | `HTMLDIR = $(DOCSDIR)/html`          |
| `PDFDIR`        | ูุณุฑ     | ูุณุฑ ูุณุชูุฏุงุช PDF                                            | `PDFDIR = $(DOCSDIR)/pdf`            |
| `MANDIR`        | ูุณุฑ     | ูุณุฑ ูุงูโูุง man page                                      | `MANDIR = $(DATADIR)/man`            |
| `XSLTPROC`      | ุงุจุฒุงุฑ    | XSLT processor                                              | `XSLTPROC = xsltproc`                |
| `DOXYGEN`       | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ ุชููุฏ ูุณุชูุฏุงุช Doxygen                                 | `DOXYGEN = doxygen`                  |
| `SPHINXBUILD`   | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ ุณุงุฎุช ูุณุชูุฏุงุช Sphinx                                   | `SPHINXBUILD = sphinx-build`         |
| `CTEST`         | ุชุณุช      | ุชุณุช runner ุจุฑุง CMake                                       | `CTEST = ctest`                      |
| `AUTOMAKE`      | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ Automake                                              | `AUTOMAKE = automake`                |
| `AUTOCONF`      | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ Autoconf                                              | `AUTOCONF = autoconf`                |
| `LIBTOOL`       | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ Libtool                                               | `LIBTOOL = libtool`                  |
| `PKG_CONFIG`    | ุงุจุฒุงุฑ    | ุงุจุฒุงุฑ pkg-config ุจุฑุง ุงูุชู ูุจุฑโูุง                        | `PKG_CONFIG = pkg-config`            |
| `WGET`          | ุณุณุชู   | ุฏุงูููุฏ ูุงู ุงุฒ ุทุฑู HTTP                                    | `WGET = wget`                        |
| `CURL`          | ุณุณุชู   | ุฏุงูููุฏ/ุขูพููุฏ ุฏุงุฏู ุงุฒ ุทุฑู ุดุจฺฉู                              | `CURL = curl`                        |
| `SSH`           | ุณุณุชู   | ุงุชุตุงู ุจู ุฑูุช Remote                                         | `SSH = ssh`                          |
| `SCP`           | ุณุณุชู   | ฺฉูพ ูุงู ุฑู SSH                                            | `SCP = scp`                          |
| `RSYNC`         | ุณุณุชู   | ุณูฺฉุฑูู ฺฉุฑุฏู ูุงูโูุง                                         | `RSYNC = rsync`                      |
| `DATE`          | ุณุณุชู   | ููุงุด ุง ุชุจุฏู ุชุงุฑุฎ                                        | `DATE = date`                        |
| `UUIDGEN`       | ุณุณุชู   | ุชููุฏ UUID                                                  | `UUIDGEN = uuidgen`                  |
| `BASENAME`      | ุณุณุชู   | ููุงุด ูุงู ูุงู ุจุฏูู ูุณุฑ                                    | `BASENAME = basename`                |
| `DIRNAME`       | ุณุณุชู   | ููุงุด ูุณุฑ ูุงู ุจุฏูู ูุงู ูุงู                               | `DIRNAME = dirname`                  |
| `REALPATH`      | ุณุณุชู   | ููุงุด ูุณุฑ ูุงูุน ูุงู                                       | `REALPATH = realpath`                |
| `HOSTNAME`      | ุณุณุชู   | ููุงุด ูุงู ูุงุณุช                                              | `HOSTNAME = hostname`                |
| `UNAME`         | ุณุณุชู   | ููุงุด ุงุทูุงุนุงุช ุณุณุชู                                         | `UNAME = uname`                      |
| `ID`            | ุณุณุชู   | ููุงุด ุดูุงุณู ฺฉุงุฑุจุฑ                                           | `ID = id`                            |
| `WHOAMI`        | ุณุณุชู   | ููุงุด ูุงู ฺฉุงุฑุจุฑ ูุนู                                        | `WHOAMI = whoami`                    |


</div>


* ุจุง ูุฌูุฏ makefile ุฒุฑ ุจุง ุฒุฏู ุฏุณุชูุฑ `make` ุจุงุฏ main.c ุฑุง ุจุง ุฏุณุชูุฑ `gcc -Wall -Wextra -g -o main main.c` ฺฉุงููพุงู ฺฉูุฏ

```makefile
CC = gcc
CFLAGS = -Wall -Wextra -g

main: main.c
```

* ุจุง ูุฌูุฏ makefile ุฒุฑ ุจุง ุฒุฏู ุฏุณุชูุฑ `make` ุจุงุฏ ุฏุณุชูุฑ `gcc -Wall -Wextra -g   -c -o main.o main.c` ุงุฌุฑุง ุดูุฏ
    * ุงฺฏุฑ ูุงู main.c ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏุ make ููโุชูุงูุฏ main.o ุฑุง ุจุณุงุฒุฏ ู ุฎุทุง ูโุฏูุฏ.

```makefile
CC = gcc
CFLAGS = -Wall -Wextra -g

all: main.o

main.o:
```

### 2.1.Automatic variables

* Automatic variables are set by make after a rule is matched.
    * $@: the target filename.
    * $*: the target filename without the file extension.
    * $<: the first prerequisite filename.
    * $^: the filenames of all the prerequisites, separated by spaces, discard duplicates.
    * $+: similar to $^, but includes duplicates.
    * $?: the names of all prerequisites that are newer than the target, separated by spaces.

### 2.2.Sample

ุฏุฑ ูุทุนูโฺฉุฏ ุฒุฑ ุดฺฉู ุนุงุฏ ู ุดฺฉู ุชูุฃู ุจุง ูุชุบุฑ ุฑุง ูุดุงูุฏู ูโฺฉูุฏ(ูุฑ ุฏู ฺฉุณุงู ูุณุชูุฏ ูู ุจุง ูฺฏุงุฑุด ูุชูุงูุช)

  ```shell
  all: hello.exe
  hello.exe: hello.o
       gcc -o hello.exe hello.o
  hello.o: hello.c
       gcc -c hello.c
  clean:
       rm hello.o hello.exe
  ```

  ```shell
  # Ussing variables(ุงุณุชูุงุฏู ุงุฒ ูุฏู ูุชุบุฑฺฏููู)
  all: hello.exe
  # $@ matches the target; $< matches the first dependent
  hello.exe: hello.o
      gcc -o $@ $<
  hello.o: hello.c
      gcc -c $<
  clean:
      rm hello.o hello.exe
  ```

## 3.VirtualPath

**ูโูพูุช ุจุง ุญุฑูู ฺฉูฺฺฉ ุง VPATH**: ุชุนู ุฏุงุฑฺฉุชูุฑ ุฌูุช ุฌุณุชุฌู ูุงุจุณุชฺฏโูุง(Dependencies) ู ูุงูโูุง ุชุงุฑฺฏุช

* For example: Search for dependencies and targets from "src" and "include" directories.The directories are separated by space

```shell
VPATH = src include
```

**ูโูพูุช ุจุง ุญุฑูู ุจุฒุฑฺฏ ุง vpath**: ุจุฑุง ุฏูุช ุจุดุชุฑ ูพุฑุงููู ููุน ูุงู ู ูุณุฑ ุฌุณุชุฌู ูุงู

* For example: Search for .c files in "src" directory; .h files in "include" directory, The pattern matching character '%' matches filename without the extension

```
vpath %.c src
vpath %.h include
```

# 2.Samples

## 2.1.Hello World

```shell
// hello.c
#include <stdio.h>
int main() {
    printf("Hello, world!\n");
    return 0;
}


//makefile
all: hello.exe
hello.exe: hello.o
	 gcc -o hello.exe hello.o
hello.o: hello.c
	 gcc -c hello.c
clean:
	 rm hello.o hello.exe
```

**ุชูุถุญุงุช**

* ูุงู makeFile ุฑุง ุจุงุฏ ุฏุฑ ูุณุฑ ุฌุงุฑ ูพุฑูฺู ูุฑุงุฑ ุฏูู
* ุจุฎุด all ุจุตูุฑุช ูพุดโูุฑุถ ุงุฌุฑุง ูโุดูุฏ
* ุงฺฏุฑ ูพุณ ุงุฒ ุงุฌุฑุง ุฏุณุชูุฑ ALL ูุฌุฏุฏ ุงู ุฏุณุชูุฑ ุฑุง ุงุฌุฑุง ููุงู ุจุง ุฏุณุชูุฑ ุฒุฑ ููุงุฌู ูโุดูู
    * `make: Nothing to be done for 'all'`
* ุชุฑุชุจ ุงุฌุฑุง ุฎุท ุจู ุฎุท
    * ุงุจุชุฏุง ุณุฑุงุบ ุชุงุฑฺฏุช `all` ุฑูุชู ู ุฏุฑูุงุจุฏ ฺฉู ูพุดโูุงุฒ ุขู `hello.exe` ุงุณุช
    * ูุฑูุฏ ุณุฑุงุบ ุชุงุฑฺฏุช `hello.exe` ู ูุดุงูุฏู ูฺฉูุฏ ฺฉู ูพุด ูุงุฒ ุขู ูุงู `hello.o` ุงุณุช
    * ูุฑูุฏ ุณุฑุงุบ ุชุงุฑฺฏุช `hello.o` ู ูุดุงูุฏู ูฺฉูุฏ ฺฉู ูพุดโูุงุฒ ุขู ูุงู hello.c ุงุณุช ฺฉู ูุชูุฌู ูโุดูุฏ ฺฉู ุงู ูุงู ุฏุฑ ูุณุฑ ุฌุงุฑ ูุฌูุฏ ุฏุงุฑุฏ
    * ุฏุฑ ุงุฏุงูู ุงู ูุงู ุฑุง ูุฎูุงูุฏ
    * ุฏุฑ ุงุฏุงูู ุฏุณุชูุฑุงุช ุงู ุชุงุฑฺฏุช(ฺฉู ูุงู ูพุดโูุงุฒ ุขู ุฑุง ูพุฏุง ฺฉุฑุฏู ุงุณุช ุนู ุฏุณุชูุฑุงุช ุชุงุฑฺฏุช `hello.o`) ุฑุง ุงุฌุฑุง ูฺฉูุฏ ุนู ุฏุณุชูุฑ ุฒุฑ
    ```shell
    gcc -c hello.c
    ```
    * ุญุงู ฺฉู ุจุงุฏุณุชูุฑ ุจุงูุง ูุงู `hello.o` ุงุฌุงุฏ ุดุฏ ุฏุฑ ุงุฏุงูู ุฏุณุชูุฑ ุชุงุฑฺฏุช hello.exe ุฑุง ุงุฌุฑุง ูฺฉูุฏ ุนู ุฏุณุชูุฑ ุฒุฑ
    ```shell
    `gcc -o hello.exe hello.o`
    ```
    


